<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FD Calculator – Pratix Finance</title>
  <link rel="icon" href="logo.png" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to bottom right, #e0f7fa, #ffffff);
      margin: 0;
      padding: 20px;
      text-align: center;
    }
    .calculator, .preview-buttons {
      margin-top: 20px;
    }
    input, select, button {
      padding: 10px;
      margin: 10px;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 16px;
    }
    button {
      background: #1976d2;
      color: white;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      background: #0d47a1;
    }
    #result, #previewArea {
      margin-top: 20px;
    }
    #previewArea {
      display: none;
      border: 2px dashed #ccc;
      padding: 20px;
      background: #ffffff;
      border-radius: 12px;
    }
    footer {
      margin-top: 30px;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <img src="logo.png" alt="Logo" width="100" />
  <h1 data-lang="title">FD Calculator</h1>

  <div class="calculator">
    <select id="language" onchange="changeLanguage()">
      <option value="en">🌐 English</option>
      <option value="hi">🇮🇳 Hindi</option>
      <option value="bn">🇧🇩 Bengali</option>
      <option value="fr">🇫🇷 French</option>
      <option value="ru">🇷🇺 Russian</option>
      <option value="es">🇪🇸 Spanish</option>
      <option value="ja">🇯🇵 Japanese</option>
      <option value="ko">🇰🇷 Korean</option>
    </select><br>

    <input type="number" id="principal" placeholder="Enter Principal Amount" data-lang="principal" /><br>
    <input type="number" id="rate" placeholder="Annual Interest Rate (%)" data-lang="rate" /><br>
    <input type="number" id="tenure" placeholder="Tenure in Years" data-lang="tenure" /><br>
    <select id="frequency">
      <option value="1">Annually</option>
      <option value="2">Half-Yearly</option>
      <option value="4">Quarterly</option>
      <option value="12">Monthly</option>
    </select><br>

    <button onclick="resetForm()" data-lang="reset">🔄 Reset</button>
    <button onclick="calculateFD()" data-lang="calculate">📊 Calculate</button>
    <button onclick="showPreview()" data-lang="preview">👁️ Preview</button>
  </div>

  <div id="result"></div>

  <div id="previewArea">
    <div id="previewContent">
      <img src="logo.png" alt="Logo" width="100" />
      <h2 data-lang="title">FD Calculator</h2>
      <div id="previewInputs"></div>
      <div id="previewResult"></div>
      <canvas id="previewChart" style="max-width:400px; margin: auto;"></canvas>
    </div>
    <div class="preview-buttons" id="previewButtons">
      <button onclick="downloadImage()">🖼️ Download Image</button>
      <button onclick="downloadPDF()">📄 Download PDF</button>
      <button onclick="shareResult()">🔗 Share</button>
    </div>
  </div>

  <footer>
    <p data-lang="footer_desc">Use our FD Calculator to estimate interest and maturity on your fixed deposit investments.</p>
    <p>📧 <a href="mailto:pratixfinance4@gmail.com">pratixfinance4@gmail.com</a></p>
  </footer>

  <script>
    const translations = {
      en: {title:"FD Calculator",principal:"Enter Principal Amount",rate:"Annual Interest Rate (%)",tenure:"Tenure in Years",frequency:"Compounding Frequency",reset:"🔄 Reset",calculate:"📊 Calculate",preview:"👁️ Preview",result:"Result",footer_desc:"Use our FD Calculator to estimate interest and maturity on your fixed deposit investments."},
      hi: {title:"एफ़डी कैलकुलेटर",principal:"प्रारंभिक राशि दर्ज करें",rate:"वार्षिक ब्याज दर (%)",tenure:"अवधि (वर्षों में)",frequency:"चक्रवृद्धि आवृत्ति",reset:"🔄 रीसेट",calculate:"📊 कैलकुलेट करें",preview:"👁️ पूर्वावलोकन",result:"परिणाम",footer_desc:"ब्याज और परिपक्वता की गणना के लिए हमारे FD कैलकुलेटर का उपयोग करें।"},
      bn: {title:"এফডি ক্যালকুলেটর",principal:"মূল পরিমাণ লিখুন",rate:"বার্ষিক সুদের হার (%)",tenure:"মেয়াদ (বছর)",frequency:"চক্রবৃদ্ধি ফ্রিকোয়েন্সি",reset:"🔄 রিসেট",calculate:"📊 হিসাব করুন",preview:"👁️ প্রিভিউ",result:"ফলাফল",footer_desc:"সুদের এবং ম্যাচুরিটি গণনার জন্য আমাদের FD ক্যালকুলেটর ব্যবহার করুন।"},
      fr: {title:"Calculateur de FD",principal:"Montant du principal",rate:"Taux d'intérêt annuel (%)",tenure:"Durée (en années)",frequency:"Fréquence de capitalisation",reset:"🔄 Réinitialiser",calculate:"📊 Calculer",preview:"👁️ Aperçu",result:"Résultat",footer_desc:"Utilisez notre calculateur FD pour estimer les intérêts et l'échéance de vos dépôts à terme."},
      ru: {title:"Калькулятор Вклада",principal:"Введите основную сумму",rate:"Годовая процентная ставка (%)",tenure:"Срок (в годах)",frequency:"Частота начисления процентов",reset:"🔄 Сброс",calculate:"📊 Рассчитать",preview:"👁️ Предпросмотр",result:"Результат",footer_desc:"Используйте наш калькулятор для расчета процентов и срока по вкладу."},
      es: {title:"Calculadora de FD",principal:"Ingrese el monto principal",rate:"Tasa de interés anual (%)",tenure:"Plazo (en años)",frequency:"Frecuencia de capitalización",reset:"🔄 Reiniciar",calculate:"📊 Calcular",preview:"👁️ Vista previa",result:"Resultado",footer_desc:"Use nuestra calculadora FD para estimar el interés y la madurez de sus depósitos."},
      ja: {title:"定期預金計算機",principal:"元本を入力してください",rate:"年間利率 (%)",tenure:"期間（年単位）",frequency:"複利頻度",reset:"🔄 リセット",calculate:"📊 計算する",preview:"👁️ プレビュー",result:"結果",footer_desc:"利息と満期を計算するためにFD計算機を使用してください。"},
      ko: {title:"FD 계산기",principal:"원금을 입력하세요",rate:"연 이자율 (%)",tenure:"기간 (년)",frequency:"복리 빈도",reset:"🔄 초기화",calculate:"📊 계산",preview:"👁️ 미리보기",result:"결과",footer_desc:"이자와 만기를 계산하려면 FD 계산기를 사용하세요."}
    };

    function changeLanguage() {
      const lang = document.getElementById("language").value;
      const trans = translations[lang];
      document.querySelectorAll("[data-lang]").forEach(el => {
        const key = el.getAttribute("data-lang");
        if (trans[key]) el.innerText = trans[key];
      });
    }

    function resetForm() {
      document.getElementById("principal").value = '';
      document.getElementById("rate").value = '';
      document.getElementById("tenure").value = '';
      document.getElementById("result").innerHTML = '';
      document.getElementById("previewArea").style.display = 'none';
    }

    function calculateFD() {
      const P = parseFloat(document.getElementById("principal").value);
      const r = parseFloat(document.getElementById("rate").value);
      const n = parseInt(document.getElementById("frequency").value);
      const t = parseFloat(document.getElementById("tenure").value);
      const A = P * Math.pow((1 + (r / (100 * n))), n * t);
      const interest = A - P;
      document.getElementById("result").innerHTML = `<h3>Result:</h3> Total Maturity: ₹${A.toFixed(2)} <br> Interest Earned: ₹${interest.toFixed(2)}`;
    }

    function showPreview() {
      calculateFD();
      const principal = document.getElementById("principal").value;
      const rate = document.getElementById("rate").value;
      const tenure = document.getElementById("tenure").value;
      const freq = document.getElementById("frequency").options[document.getElementById("frequency").selectedIndex].text;

      const P = parseFloat(principal);
      const r = parseFloat(rate);
      const n = parseInt(document.getElementById("frequency").value);
      const t = parseFloat(tenure);
      const A = P * Math.pow((1 + (r / (100 * n))), n * t);
      const interest = A - P;

      document.getElementById("previewInputs").innerHTML = `
        <p><strong>Principal:</strong> ₹${P}</p>
        <p><strong>Rate:</strong> ${r}%</p>
        <p><strong>Tenure:</strong> ${t} years</p>
        <p><strong>Frequency:</strong> ${freq}</p>
      `;
      document.getElementById("previewResult").innerHTML = `
        <p><strong>Total Maturity:</strong> ₹${A.toFixed(2)}</p>
        <p><strong>Interest Earned:</strong> ₹${interest.toFixed(2)}</p>
      `;

      const ctx = document.getElementById("previewChart").getContext("2d");
      if (window.previewChart) window.previewChart.destroy();
      window.previewChart = new Chart(ctx, {
        type: 'pie',
        data: {
          labels: ['Principal', 'Interest'],
          datasets: [{
            data: [P, interest],
            backgroundColor: ['#1976d2', '#4caf50']
          }]
        },
        options: { responsive: true }
      });

      document.getElementById("previewArea").style.display = "block";
    }

    async function downloadImage() {
      document.getElementById("previewButtons").style.display = "none";
      const canvas = await html2canvas(document.getElementById("previewContent"));
      document.getElementById("previewButtons").style.display = "block";
      const link = document.createElement("a");
      link.download = "fd_result.png";
      link.href = canvas.toDataURL();
      link.click();
    }

    async function downloadPDF() {
      document.getElementById("previewButtons").style.display = "none";
      const canvas = await html2canvas(document.getElementById("previewContent"));
      document.getElementById("previewButtons").style.display = "block";
      const imgData = canvas.toDataURL("image/png");
      const { jsPDF } = window.jspdf;
      const pdf = new jsPDF();
      const width = pdf.internal.pageSize.getWidth();
      const height = (canvas.height * width) / canvas.width;
      pdf.addImage(imgData, 'PNG', 0, 0, width, height);
      pdf.save("fd_result.pdf");
    }

    function shareResult() {
      if (navigator.share) {
        navigator.share({
          title: "FD Result - Pratix Finance",
          text: "Check out my fixed deposit maturity result!",
          url: window.location.href
        }).catch(console.error);
      } else {
        alert("Sharing is not supported on this device.");
      }
    }

    window.onload = () => changeLanguage();
  </script>
</body>
</html>
