<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Income Tax Calculator ‚Äì Pratix Finance</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/chart.js" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(to bottom right, #e3f2fd, #fff);
      color: #333;
    }
    header {
      background: linear-gradient(90deg, #2196f3, #21cbf3);
      color: white;
      text-align: center;
      padding: 1.5rem 1rem;
    }
    header h1 {
      margin: 0;
      font-size: 2rem;
    }
    .container {
      max-width: 800px;
      margin: 2rem auto;
      padding: 1rem;
      background: #ffffffdd;
      border-radius: 1rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    label {
      display: block;
      margin: 0.5rem 0 0.2rem;
    }
    select, input[type="number"] {
      width: 100%;
      padding: 0.6rem;
      margin-bottom: 1rem;
      border-radius: 0.5rem;
      border: 1px solid #ccc;
      font-size: 1rem;
    }
    .btn {
      padding: 0.6rem 1.2rem;
      font-size: 1rem;
      margin: 0.5rem 0.2rem;
      border: none;
      border-radius: 0.5rem;
      cursor: pointer;
      background: #2196f3;
      color: white;
      transition: background 0.3s ease;
    }
    .btn:hover {
      background: #1769aa;
    }
    #results h3, #results h2 {
      margin: 0.5rem 0;
    }
    canvas {
      max-width: 100%;
      margin-top: 1rem;
    }
    #preview-area {
      display: none;
      margin-top: 2rem;
      border: 1px solid #ccc;
      padding: 1rem;
      border-radius: 1rem;
      background: #f9f9f9;
    }
    footer {
      text-align: center;
      font-size: 0.9rem;
      margin-top: 2rem;
      padding: 1rem;
      background: #e3f2fd;
    }
    @media(max-width: 600px) {
      header h1 {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>

<header>
  <h1>üßæ Income Tax Calculator</h1>
</header>

<div class="container">
  <label for="language">üåê Select Language:</label>
  <select id="language" onchange="changeLanguage()">
    <option value="en">English</option>
    <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
    <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
    <option value="fr">Fran√ßais</option>
    <option value="ru">–†—É—Å—Å–∫–∏–π</option>
    <option value="es">Espa√±ol</option>
    <option value="ja">Êó•Êú¨Ë™û</option>
    <option value="ko">ÌïúÍµ≠Ïñ¥</option>
  </select>

  <label id="label-income" for="income">üí∞ Annual Gross Income (‚Çπ):</label>
  <input type="number" id="income" placeholder="Enter your income">

  <label id="label-deductions" for="deductions">üìâ Total Deductions (‚Çπ):</label>
  <input type="number" id="deductions" placeholder="Enter deductions (under 80C, etc.)">

  <label id="label-age" for="age">üéÇ Age Category:</label>
  <select id="age">
    <option value="below60">Below 60</option>
    <option value="60to80">60 to 80</option>
    <option value="above80">Above 80</option>
  </select>

  <label id="label-regime" for="regime">üìã Select Tax Regime:</label>
  <select id="regime">
    <option value="old">Old Regime</option>
    <option value="new">New Regime</option>
  </select>

  <div style="text-align:center;">
    <button class="btn" id="btn-calculate" onclick="calculateTax()">Calculate</button>
    <button class="btn" id="btn-reset" onclick="resetForm()">Reset</button>
    <button class="btn" id="btn-preview" onclick="togglePreview()">Preview</button>
  </div>

  <div id="results"></div>
  <canvas id="pieChart"></canvas>
  <canvas id="barChart"></canvas>

  <div id="preview-area">
    <h3 id="preview-title">üìÑ Income Tax Summary</h3>
    <div id="preview-results"></div>
    <canvas id="previewPieChart"></canvas>
    <canvas id="previewBarChart"></canvas>
    <div style="margin-top:1rem;">
      <button class="btn" onclick="downloadImage()">Download Image</button>
      <button class="btn" onclick="downloadPDF()">Download PDF</button>
      <button class="btn" onclick="sharePreview()">Share</button>
    </div>
  </div>
</div>

<footer>
  üìß Contact: <a href="mailto:pratixfinance4@gmail.com">pratixfinance4@gmail.com</a><br/>
  ¬© 2025 Pratix Finance | Built by Raghav Pratap<br/>
  This tool estimates your Indian income tax. Please consult a professional for accurate filing.
</footer>
<script>
const translations = {
  en: {
    income: "üí∞ Annual Gross Income (‚Çπ):",
    deductions: "üìâ Total Deductions (‚Çπ):",
    age: "üéÇ Age Category:",
    regime: "üìã Select Tax Regime:",
    calculate: "Calculate",
    reset: "Reset",
    preview: "Preview",
    result: "üßæ Estimated Tax Payable:",
    old: "Old Regime",
    new: "New Regime",
    summary: "üìÑ Income Tax Summary"
  },
  hi: {
    income: "üí∞ ‡§µ‡§æ‡§∞‡•ç‡§∑‡§ø‡§ï ‡§∏‡§ï‡§≤ ‡§Ü‡§Ø (‚Çπ):",
    deductions: "üìâ ‡§ï‡•Å‡§≤ ‡§ï‡§ü‡•å‡§§‡•Ä (‚Çπ):",
    age: "üéÇ ‡§Ü‡§Ø‡•Å ‡§µ‡§∞‡•ç‡§ó:",
    regime: "üìã ‡§ï‡§∞ ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä ‡§ö‡•Å‡§®‡•á‡§Ç:",
    calculate: "‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç",
    reset: "‡§∞‡•Ä‡§∏‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç",
    preview: "‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§µ‡§≤‡•ã‡§ï‡§®",
    result: "üßæ ‡§Ö‡§®‡•Å‡§Æ‡§æ‡§®‡§ø‡§§ ‡§ï‡§∞ ‡§¶‡•á‡§Ø:",
    old: "‡§™‡•Å‡§∞‡§æ‡§®‡•Ä ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä",
    new: "‡§®‡§à ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä",
    summary: "üìÑ ‡§Ü‡§Ø‡§ï‡§∞ ‡§∏‡§æ‡§∞‡§æ‡§Ç‡§∂"
  },
  bn: {
    income: "üí∞ ‡¶¨‡¶æ‡¶∞‡ßç‡¶∑‡¶ø‡¶ï ‡¶Æ‡ßã‡¶ü ‡¶Ü‡ßü (‚Çπ):",
    deductions: "üìâ ‡¶Æ‡ßã‡¶ü ‡¶õ‡¶æ‡¶°‡¶º (‚Çπ):",
    age: "üéÇ ‡¶¨‡ßü‡¶∏ ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó:",
    regime: "üìã ‡¶ï‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®:",
    calculate: "‡¶ó‡¶£‡¶®‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®",
    reset: "‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®",
    preview: "‡¶™‡ßç‡¶∞‡¶æ‡¶ï‡¶¶‡¶∞‡ßç‡¶∂‡¶®",
    result: "üßæ ‡¶Ü‡¶®‡ßÅ‡¶Æ‡¶æ‡¶®‡¶ø‡¶ï ‡¶ï‡¶∞:",
    old: "‡¶™‡ßÅ‡¶∞‡¶æ‡¶®‡ßã ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ",
    new: "‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ",
    summary: "üìÑ ‡¶Ü‡¶Ø‡¶º‡¶ï‡¶∞ ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂"
  },
  fr: {
    income: "üí∞ Revenu brut annuel (‚Çπ):",
    deductions: "üìâ D√©ductions totales (‚Çπ):",
    age: "üéÇ Tranche d'√¢ge:",
    regime: "üìã R√©gime fiscal:",
    calculate: "Calculer",
    reset: "R√©initialiser",
    preview: "Aper√ßu",
    result: "üßæ Imp√¥t estim√©:",
    old: "Ancien r√©gime",
    new: "Nouveau r√©gime",
    summary: "üìÑ R√©sum√© de l'imp√¥t"
  },
  ru: {
    income: "üí∞ –ì–æ–¥–æ–≤–æ–π –¥–æ—Ö–æ–¥ (‚Çπ):",
    deductions: "üìâ –û–±—â–∏–µ –≤—ã—á–µ—Ç—ã (‚Çπ):",
    age: "üéÇ –í–æ–∑—Ä–∞—Å—Ç–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è:",
    regime: "üìã –ù–∞–ª–æ–≥–æ–≤—ã–π —Ä–µ–∂–∏–º:",
    calculate: "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å",
    reset: "–°–±—Ä–æ—Å–∏—Ç—å",
    preview: "–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä",
    result: "üßæ –û—Ü–µ–Ω–∫–∞ –Ω–∞–ª–æ–≥–∞:",
    old: "–°—Ç–∞—Ä—ã–π —Ä–µ–∂–∏–º",
    new: "–ù–æ–≤—ã–π —Ä–µ–∂–∏–º",
    summary: "üìÑ –°–≤–æ–¥–∫–∞ –ø–æ –Ω–∞–ª–æ–≥—É"
  },
  es: {
    income: "üí∞ Ingreso bruto anual (‚Çπ):",
    deductions: "üìâ Deducciones totales (‚Çπ):",
    age: "üéÇ Categor√≠a de edad:",
    regime: "üìã Seleccionar r√©gimen fiscal:",
    calculate: "Calcular",
    reset: "Restablecer",
    preview: "Vista previa",
    result: "üßæ Impuesto estimado:",
    old: "R√©gimen antiguo",
    new: "Nuevo r√©gimen",
    summary: "üìÑ Resumen del impuesto"
  },
  ja: {
    income: "üí∞ Âπ¥ÈñìÁ∑èÊâÄÂæó (‚Çπ):",
    deductions: "üìâ Á∑èÊéßÈô§È°ç (‚Çπ):",
    age: "üéÇ Âπ¥ÈΩ¢„Ç´„ÉÜ„Ç¥„É™:",
    regime: "üìã Á®éÂà∂„ÇíÈÅ∏Êäû:",
    calculate: "Ë®àÁÆó",
    reset: "„É™„Çª„ÉÉ„Éà",
    preview: "„Éó„É¨„Éì„É•„Éº",
    result: "üßæ Êé®ÂÆöÁ¥çÁ®éÈ°ç:",
    old: "ÊóßÂà∂Â∫¶",
    new: "Êñ∞Âà∂Â∫¶",
    summary: "üìÑ ÊâÄÂæóÁ®é„ÅÆÊ¶ÇË¶Å"
  },
  ko: {
    income: "üí∞ Ïó∞Í∞Ñ Ï¥ùÏÜåÎìù (‚Çπ):",
    deductions: "üìâ Ï¥ù Í≥µÏ†úÏï° (‚Çπ):",
    age: "üéÇ Ïó∞Î†πÎåÄ:",
    regime: "üìã ÏÑ∏Í∏à Ï†úÎèÑ ÏÑ†ÌÉù:",
    calculate: "Í≥ÑÏÇ∞ÌïòÍ∏∞",
    reset: "Ï¥àÍ∏∞Ìôî",
    preview: "ÎØ∏Î¶¨Î≥¥Í∏∞",
    result: "üßæ ÏòàÏÉÅ ÏÑ∏Í∏à:",
    old: "Íµ¨ Ï†úÎèÑ",
    new: "Ïã† Ï†úÎèÑ",
    summary: "üìÑ ÏÜåÎìùÏÑ∏ ÏöîÏïΩ"
  }
};

function changeLanguage() {
  const lang = document.getElementById("language").value;
  const t = translations[lang];
  document.getElementById("label-income").innerText = t.income;
  document.getElementById("label-deductions").innerText = t.deductions;
  document.getElementById("label-age").innerText = t.age;
  document.getElementById("label-regime").innerText = t.regime;
  document.getElementById("btn-calculate").innerText = t.calculate;
  document.getElementById("btn-reset").innerText = t.reset;
  document.getElementById("btn-preview").innerText = t.preview;
  document.getElementById("preview-title").innerText = t.summary;
}

function calculateTax() {
  const income = parseFloat(document.getElementById("income").value) || 0;
  const deductions = parseFloat(document.getElementById("deductions").value) || 0;
  const age = document.getElementById("age").value;
  const regime = document.getElementById("regime").value;
  const taxable = Math.max(0, income - (regime === "old" ? deductions : 0));
  let tax = 0;

  if (regime === "new") {
    const slabs = [0, 300000, 600000, 900000, 1200000, 1500000];
    const rates = [0, 0.05, 0.1, 0.15, 0.2, 0.3];
    for (let i = slabs.length - 1; i >= 0; i--) {
      if (taxable > slabs[i]) {
        tax += (taxable - slabs[i]) * rates[i];
        taxable = slabs[i];
      }
    }
  } else {
    let exemption = 250000;
    if (age === "60to80") exemption = 300000;
    if (age === "above80") exemption = 500000;
    const slabs = [0, exemption, 500000, 1000000];
    const rates = [0, 0, 0.05, 0.2, 0.3];
    for (let i = slabs.length - 1; i >= 0; i--) {
      if (taxable > slabs[i]) {
        tax += (taxable - slabs[i]) * rates[i + 1];
        taxable = slabs[i];
      }
    }
  }

  document.getElementById("results").innerHTML = `
    <h3>${translations[document.getElementById("language").value].result}</h3>
    <h2>‚Çπ${tax.toFixed(2)}</h2>`;
  drawCharts(tax, income);
}

function resetForm() {
  document.getElementById("income").value = "";
  document.getElementById("deductions").value = "";
  document.getElementById("results").innerHTML = "";
  document.getElementById("pieChart").style.display = "none";
  document.getElementById("barChart").style.display = "none";
  document.getElementById("preview-area").style.display = "none";
}

function togglePreview() {
  document.getElementById("preview-results").innerHTML =
    document.getElementById("results").innerHTML;
  drawChartsPreview();
  document.getElementById("preview-area").style.display = "block";
}

function drawCharts(tax, income) {
  const pieCtx = document.getElementById("pieChart").getContext("2d");
  const barCtx = document.getElementById("barChart").getContext("2d");
  const remaining = income - tax;
  new Chart(pieCtx, {
    type: "pie",
    data: {
      labels: ["Tax", "Remaining"],
      datasets: [{ data: [tax, remaining], backgroundColor: ["#f44336", "#4caf50"] }]
    }
  });
  new Chart(barCtx, {
    type: "bar",
    data: {
      labels: ["Tax", "Remaining"],
      datasets: [{
        label: "‚Çπ Amount",
        data: [tax, remaining],
        backgroundColor: ["#f44336", "#4caf50"]
      }]
    }
  });
  document.getElementById("pieChart").style.display = "block";
  document.getElementById("barChart").style.display = "block";
}

function drawChartsPreview() {
  const pie = document.getElementById("pieChart").toDataURL("image/png");
  const bar = document.getElementById("barChart").toDataURL("image/png");
  document.getElementById("previewPieChart").getContext("2d").drawImage(
    document.createElement("img"), 0, 0
  ).src = pie;
  document.getElementById("previewBarChart").getContext("2d").drawImage(
    document.createElement("img"), 0, 0
  ).src = bar;
}

function downloadImage() {
  html2canvas(document.getElementById("preview-area")).then(canvas => {
    const link = document.createElement("a");
    link.download = "income_tax_result.png";
    link.href = canvas.toDataURL();
    link.click();
  });
}

function downloadPDF() {
  html2canvas(document.getElementById("preview-area")).then(canvas => {
    const imgData = canvas.toDataURL("image/png");
    const pdf = new jsPDF();
    pdf.addImage(imgData, "PNG", 10, 10, 180, 0);
    pdf.save("income_tax_result.pdf");
  });
}

function sharePreview() {
  alert("Use browser's share options or take a screenshot to share.");
}
</script>
</body>
</html>