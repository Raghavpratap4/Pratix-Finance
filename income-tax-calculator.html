<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Income Tax Calculator - Pratix Finance</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(to right, #e0f7fa, #fff);
      color: #333;
    }
    header {
      background: #00796b;
      padding: 1rem;
      color: white;
      text-align: center;
    }
    .container {
      max-width: 900px;
      margin: auto;
      padding: 1rem;
    }
    label {
      display: block;
      margin-top: 1rem;
    }
    input, select {
      width: 100%;
      padding: 0.5rem;
      margin-top: 0.3rem;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    .btn-group {
      display: flex;
      justify-content: space-between;
      margin-top: 1.5rem;
      gap: 1rem;
      flex-wrap: wrap;
    }
    button {
      padding: 0.7rem 1.5rem;
      font-size: 1rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .calculate-btn { background: #388e3c; color: white; }
    .reset-btn { background: #f57c00; color: white; }
    .preview-btn { background: #1976d2; color: white; }
    #language-selector {
      text-align: center;
      margin-top: 1rem;
    }
    #preview-area {
      display: none;
      padding: 1rem;
      border: 2px dashed #ccc;
      margin-top: 2rem;
      background: #f5f5f5;
      border-radius: 12px;
    }
    #charts canvas {
      max-width: 100%;
    }
    @media (max-width: 600px) {
      .btn-group {
        flex-direction: column;
        gap: 1rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <h2 id="app-title">üìä Pratix Finance - Income Tax Calculator</h2>
  </header>

  <div id="language-selector">
    <label for="language">üåê Language / ‡§≠‡§æ‡§∑‡§æ:</label>
    <select id="language" onchange="changeLanguage()">
      <option value="en">English</option>
      <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
      <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
      <option value="fr">Fran√ßais</option>
      <option value="ru">–†—É—Å—Å–∫–∏–π</option>
      <option value="es">Espa√±ol</option>
      <option value="ja">Êó•Êú¨Ë™û</option>
      <option value="ko">ÌïúÍµ≠Ïñ¥</option>
    </select>
  </div>

  <div class="container" id="main-content">
    <h1 id="main-heading">Income Tax Calculator</h1>

    <label for="income" id="label-income">Annual Gross Income (‚Çπ):</label>
    <input type="number" id="income" placeholder="Enter your income" />

    <label for="age" id="label-age">Age Category:</label>
    <select id="age">
      <option value="below60">Below 60</option>
      <option value="60to80">60 to 80</option>
      <option value="above80">Above 80</option>
    </select>

    <label for="deductions" id="label-deductions">Total Deductions (‚Çπ):</label>
    <input type="number" id="deductions" placeholder="Enter deductions (80C, 80D, etc.)" />

    <label for="regime" id="label-regime">Select Tax Regime:</label>
    <select id="regime">
      <option value="old">Old Regime</option>
      <option value="new">New Regime</option>
    </select>

    <div class="btn-group">
      <button class="calculate-btn" id="btn-calculate" onclick="calculateTax()">Calculate</button>
      <button class="reset-btn" id="btn-reset" onclick="resetForm()">Reset</button>
      <button class="preview-btn" id="btn-preview" onclick="togglePreview()">Preview</button>
    </div>

    <div id="results"></div>
    <div id="charts">
      <canvas id="pieChart"></canvas>
      <canvas id="barChart"></canvas>
    </div>
    <div id="preview-area">
      <h2 id="preview-title">üìÑ Income Tax Summary</h2>
      <div id="preview-results"></div>
      <div id="preview-charts">
        <canvas id="previewPieChart"></canvas>
        <canvas id="previewBarChart"></canvas>
      </div>
      <div class="btn-group" style="margin-top: 1rem;">
        <button onclick="downloadImage()">üì∑ Download Image</button>
        <button onclick="downloadPDF()">üìÑ Download PDF</button>
        <button onclick="sharePreview()">üîó Share</button>
      </div>
    </div>
  </div>

  <script>
    const translations = {
      en: {
        "Income Tax Calculator": "Income Tax Calculator",
        "Annual Gross Income (‚Çπ):": "Annual Gross Income (‚Çπ):",
        "Age Category:": "Age Category:",
        "Total Deductions (‚Çπ):": "Total Deductions (‚Çπ):",
        "Select Tax Regime:": "Select Tax Regime:",
        "Below 60": "Below 60",
        "60 to 80": "60 to 80",
        "Above 80": "Above 80",
        "Old Regime": "Old Regime",
        "New Regime": "New Regime",
        "Calculate": "Calculate",
        "Reset": "Reset",
        "Preview": "Preview",
        "üìÑ Income Tax Summary": "üìÑ Income Tax Summary"
      },
      hi: {
        "Income Tax Calculator": "‡§Ü‡§Ø‡§ï‡§∞ ‡§ï‡•à‡§≤‡§ï‡•Å‡§≤‡•á‡§ü‡§∞",
        "Annual Gross Income (‚Çπ):": "‡§µ‡§æ‡§∞‡•ç‡§∑‡§ø‡§ï ‡§∏‡§ï‡§≤ ‡§Ü‡§Ø (‚Çπ):",
        "Age Category:": "‡§Ü‡§Ø‡•Å ‡§µ‡§∞‡•ç‡§ó:",
        "Total Deductions (‚Çπ):": "‡§ï‡•Å‡§≤ ‡§ï‡§ü‡•å‡§§‡§ø‡§Ø‡§æ‡§Å (‚Çπ):",
        "Select Tax Regime:": "‡§ï‡§∞ ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä ‡§ö‡•Å‡§®‡•á‡§Ç:",
        "Below 60": "60 ‡§∏‡•á ‡§ï‡§Æ",
        "60 to 80": "60 ‡§∏‡•á 80",
        "Above 80": "80 ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï",
        "Old Regime": "‡§™‡•Å‡§∞‡§æ‡§®‡•Ä ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä",
        "New Regime": "‡§®‡§à ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä",
        "Calculate": "‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç",
        "Reset": "‡§∞‡•Ä‡§∏‡•á‡§ü",
        "Preview": "‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§µ‡§≤‡•ã‡§ï‡§®",
        "üìÑ Income Tax Summary": "üìÑ ‡§Ü‡§Ø‡§ï‡§∞ ‡§∏‡§æ‡§∞‡§æ‡§Ç‡§∂"
      },
      bn: {
        "Income Tax Calculator": "‡¶Ü‡¶Ø‡¶º‡¶ï‡¶∞ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶ï‡ßÅ‡¶≤‡ßá‡¶ü‡¶∞",
        "Annual Gross Income (‚Çπ):": "‡¶¨‡¶æ‡¶∞‡ßç‡¶∑‡¶ø‡¶ï ‡¶Æ‡ßã‡¶ü ‡¶Ü‡¶Ø‡¶º (‚Çπ):",
        "Age Category:": "‡¶¨‡¶Ø‡¶º‡¶∏‡ßá‡¶∞ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ:",
        "Total Deductions (‚Çπ):": "‡¶Æ‡ßã‡¶ü ‡¶õ‡¶æ‡¶°‡¶º (‚Çπ):",
        "Select Tax Regime:": "‡¶ï‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®:",
        "Below 60": "‡ß¨‡ß¶ ‡¶è‡¶∞ ‡¶®‡¶ø‡¶ö‡ßá",
        "60 to 80": "‡ß¨‡ß¶ ‡¶•‡ßá‡¶ï‡ßá ‡ßÆ‡ß¶",
        "Above 80": "‡ßÆ‡ß¶ ‡¶è‡¶∞ ‡¶â‡¶™‡¶∞‡ßá",
        "Old Regime": "‡¶™‡ßÅ‡¶∞‡¶æ‡¶§‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ",
        "New Regime": "‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ",
        "Calculate": "‡¶π‡¶ø‡¶∏‡ßá‡¶¨ ‡¶ï‡¶∞‡ßÅ‡¶®",
        "Reset": "‡¶∞‡¶ø‡¶∏‡ßá‡¶ü",
        "Preview": "‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â",
        "üìÑ Income Tax Summary": "üìÑ ‡¶Ü‡ßü‡¶ï‡¶∞ ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂"
      },
      fr: {
        "Income Tax Calculator": "Calculateur d'imp√¥t sur le revenu",
        "Annual Gross Income (‚Çπ):": "Revenu brut annuel (‚Çπ):",
        "Age Category:": "Cat√©gorie d'√¢ge:",
        "Total Deductions (‚Çπ):": "D√©ductions totales (‚Çπ):",
        "Select Tax Regime:": "S√©lectionner le r√©gime fiscal:",
        "Below 60": "Moins de 60 ans",
        "60 to 80": "60 √† 80 ans",
        "Above 80": "Plus de 80 ans",
        "Old Regime": "Ancien r√©gime",
        "New Regime": "Nouveau r√©gime",
        "Calculate": "Calculer",
        "Reset": "R√©initialiser",
        "Preview": "Aper√ßu",
        "üìÑ Income Tax Summary": "üìÑ R√©sum√© de l‚Äôimp√¥t sur le revenu"
      },
      ru: {
        "Income Tax Calculator": "–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–æ–¥–æ—Ö–æ–¥–Ω–æ–≥–æ –Ω–∞–ª–æ–≥–∞",
        "Annual Gross Income (‚Çπ):": "–ì–æ–¥–æ–≤–æ–π –≤–∞–ª–æ–≤–æ–π –¥–æ—Ö–æ–¥ (‚Çπ):",
        "Age Category:": "–í–æ–∑—Ä–∞—Å—Ç–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è:",
        "Total Deductions (‚Çπ):": "–û–±—â–∏–µ –≤—ã—á–µ—Ç—ã (‚Çπ):",
        "Select Tax Regime:": "–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–ª–æ–≥–æ–≤—ã–π —Ä–µ–∂–∏–º:",
        "Below 60": "–î–æ 60",
        "60 to 80": "60‚Äì80",
        "Above 80": "–°—Ç–∞—Ä—à–µ 80",
        "Old Regime": "–°—Ç–∞—Ä—ã–π —Ä–µ–∂–∏–º",
        "New Regime": "–ù–æ–≤—ã–π —Ä–µ–∂–∏–º",
        "Calculate": "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å",
        "Reset": "–°–±—Ä–æ—Å–∏—Ç—å",
        "Preview": "–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä",
        "üìÑ Income Tax Summary": "üìÑ –°–≤–æ–¥–∫–∞ –ø–æ –Ω–∞–ª–æ–≥—É"
      },
      es: {
        "Income Tax Calculator": "Calculadora de Impuesto sobre la Renta",
        "Annual Gross Income (‚Çπ):": "Ingresos brutos anuales (‚Çπ):",
        "Age Category:": "Categor√≠a de edad:",
        "Total Deductions (‚Çπ):": "Deducciones totales (‚Çπ):",
        "Select Tax Regime:": "Seleccionar r√©gimen fiscal:",
        "Below 60": "Menos de 60",
        "60 to 80": "60 a 80",
        "Above 80": "M√°s de 80",
        "Old Regime": "R√©gimen antiguo",
        "New Regime": "R√©gimen nuevo",
        "Calculate": "Calcular",
        "Reset": "Restablecer",
        "Preview": "Vista previa",
        "üìÑ Income Tax Summary": "üìÑ Resumen de Impuestos"
      },
      ja: {
        "Income Tax Calculator": "ÊâÄÂæóÁ®éË®àÁÆóÊ©ü",
        "Annual Gross Income (‚Çπ):": "Âπ¥ÈñìÁ∑èÊâÄÂæó (‚Çπ):",
        "Age Category:": "Âπ¥ÈΩ¢„Ç´„ÉÜ„Ç¥„É™:",
        "Total Deductions (‚Çπ):": "ÊéßÈô§ÂêàË®à (‚Çπ):",
        "Select Tax Regime:": "Ë™≤Á®éÂà∂Â∫¶„ÇíÈÅ∏Êäû:",
        "Below 60": "60Ê≠≥Êú™Ê∫Ä",
        "60 to 80": "60„Äú80Ê≠≥",
        "Above 80": "80Ê≠≥‰ª•‰∏ä",
        "Old Regime": "ÊóßÂà∂Â∫¶",
        "New Regime": "Êñ∞Âà∂Â∫¶",
        "Calculate": "Ë®àÁÆó",
        "Reset": "„É™„Çª„ÉÉ„Éà",
        "Preview": "„Éó„É¨„Éì„É•„Éº",
        "üìÑ Income Tax Summary": "üìÑ ÊâÄÂæóÁ®é„ÅÆÊ¶ÇË¶Å"
      },
      ko: {
        "Income Tax Calculator": "ÏÜåÎìùÏÑ∏ Í≥ÑÏÇ∞Í∏∞",
        "Annual Gross Income (‚Çπ):": "Ïó∞Í∞Ñ Ï¥ùÏÜåÎìù (‚Çπ):",
        "Age Category:": "Ïó∞Î†πÎåÄ:",
        "Total Deductions (‚Çπ):": "Ï¥ù Í≥µÏ†úÏï° (‚Çπ):",
        "Select Tax Regime:": "ÏÑ∏Í∏à Ï†úÎèÑ ÏÑ†ÌÉù:",
        "Below 60": "60ÏÑ∏ ÎØ∏Îßå",
        "60 to 80": "60~80ÏÑ∏",
        "Above 80": "80ÏÑ∏ Ïù¥ÏÉÅ",
        "Old Regime": "Íµ¨Ï†úÎèÑ",
        "New Regime": "Ïã†Ï†úÎèÑ",
        "Calculate": "Í≥ÑÏÇ∞",
        "Reset": "Ï¥àÍ∏∞Ìôî",
        "Preview": "ÎØ∏Î¶¨Î≥¥Í∏∞",
        "üìÑ Income Tax Summary": "üìÑ ÏÜåÎìùÏÑ∏ ÏöîÏïΩ"
      }
    };
  </script>
  <script>
    function changeLanguage() {
      const lang = document.getElementById("language").value;
      const dict = translations[lang];

      document.getElementById("main-heading").innerText = dict["Income Tax Calculator"];
      document.getElementById("label-income").innerText = dict["Annual Gross Income (‚Çπ):"];
      document.getElementById("label-age").innerText = dict["Age Category:"];
      document.getElementById("label-deductions").innerText = dict["Total Deductions (‚Çπ):"];
      document.getElementById("label-regime").innerText = dict["Select Tax Regime:"];
      document.getElementById("btn-calculate").innerText = dict["Calculate"];
      document.getElementById("btn-reset").innerText = dict["Reset"];
      document.getElementById("btn-preview").innerText = dict["Preview"];
      document.getElementById("preview-title").innerText = dict["üìÑ Income Tax Summary"];
    }

    function calculateTax() {
      const income = parseFloat(document.getElementById("income").value) || 0;
      const age = document.getElementById("age").value;
      const deductions = parseFloat(document.getElementById("deductions").value) || 0;
      const regime = document.getElementById("regime").value;

      let taxable = income;
      if (regime === "old") taxable -= deductions;

      let tax = 0;

      if (regime === "old") {
        if (age === "below60") {
          if (taxable <= 250000) tax = 0;
          else if (taxable <= 500000) tax = (taxable - 250000) * 0.05;
          else if (taxable <= 1000000) tax = 12500 + (taxable - 500000) * 0.2;
          else tax = 112500 + (taxable - 1000000) * 0.3;
        } else if (age === "60to80") {
          if (taxable <= 300000) tax = 0;
          else if (taxable <= 500000) tax = (taxable - 300000) * 0.05;
          else if (taxable <= 1000000) tax = 10000 + (taxable - 500000) * 0.2;
          else tax = 110000 + (taxable - 1000000) * 0.3;
        } else {
          if (taxable <= 500000) tax = 0;
          else if (taxable <= 1000000) tax = (taxable - 500000) * 0.2;
          else tax = 100000 + (taxable - 1000000) * 0.3;
        }
      } else {
        if (taxable <= 250000) tax = 0;
        else if (taxable <= 500000) tax = (taxable - 250000) * 0.05;
        else if (taxable <= 750000) tax = 12500 + (taxable - 500000) * 0.1;
        else if (taxable <= 1000000) tax = 37500 + (taxable - 750000) * 0.15;
        else if (taxable <= 1250000) tax = 75000 + (taxable - 1000000) * 0.2;
        else if (taxable <= 1500000) tax = 125000 + (taxable - 1250000) * 0.25;
        else tax = 187500 + (taxable - 1500000) * 0.3;
      }

      const resultsDiv = document.getElementById("results");
      resultsDiv.innerHTML = `
        <h3>Taxable Income: ‚Çπ${taxable.toLocaleString()}</h3>
        <h2>Estimated Tax: ‚Çπ${tax.toLocaleString()}</h2>
      `;

      drawCharts(taxable, tax);
    }

    function drawCharts(taxable, tax) {
      const pieCtx = document.getElementById('pieChart').getContext('2d');
      const barCtx = document.getElementById('barChart').getContext('2d');
      const piePrevCtx = document.getElementById('previewPieChart').getContext('2d');
      const barPrevCtx = document.getElementById('previewBarChart').getContext('2d');

      [pieCtx, piePrevCtx].forEach(ctx => new Chart(ctx, {
        type: 'pie',
        data: {
          labels: ['Tax', 'Remaining Income'],
          datasets: [{
            data: [tax, taxable - tax],
            backgroundColor: ['#e53935', '#43a047']
          }]
        }
      }));

      [barCtx, barPrevCtx].forEach(ctx => new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['Tax', 'Net Income'],
          datasets: [{
            label: '‚Çπ Amount',
            data: [tax, taxable - tax],
            backgroundColor: ['#fb8c00', '#1976d2']
          }]
        },
        options: { scales: { y: { beginAtZero: true } } }
      }));
    }

    function resetForm() {
      document.getElementById("income").value = '';
      document.getElementById("deductions").value = '';
      document.getElementById("results").innerHTML = '';
      document.getElementById("pieChart").remove();
      document.getElementById("barChart").remove();
      document.getElementById("charts").innerHTML = `
        <canvas id="pieChart"></canvas>
        <canvas id="barChart"></canvas>
      `;
    }

    function togglePreview() {
      const income = document.getElementById("income").value;
      const deductions = document.getElementById("deductions").value;
      const age = document.getElementById("age").value;
      const regime = document.getElementById("regime").value;

      const preview = document.getElementById("preview-area");
      const results = document.getElementById("results").innerHTML;

      document.getElementById("preview-results").innerHTML = `
        <p><strong>Income:</strong> ‚Çπ${income}</p>
        <p><strong>Deductions:</strong> ‚Çπ${deductions}</p>
        <p><strong>Age:</strong> ${age}</p>
        <p><strong>Regime:</strong> ${regime}</p>
        ${results}
      `;

      preview.style.display = 'block';
    }

    function downloadImage() {
      html2canvas(document.getElementById("preview-area")).then(canvas => {
        const link = document.createElement("a");
        link.download = "income-tax-summary.png";
        link.href = canvas.toDataURL();
        link.click();
      });
    }

    function downloadPDF() {
      const { jsPDF } = window.jspdf;
      html2canvas(document.getElementById("preview-area")).then(canvas => {
        const imgData = canvas.toDataURL("image/png");
        const pdf = new jsPDF();
        const imgProps = pdf.getImageProperties(imgData);
        const pdfWidth = pdf.internal.pageSize.getWidth();
        const pdfHeight = (imgProps.height * pdfWidth) / imgProps.width;
        pdf.addImage(imgData, "PNG", 0, 0, pdfWidth, pdfHeight);
        pdf.save("income-tax-summary.pdf");
      });
    }

    function sharePreview() {
      const text = document.getElementById("preview-results").innerText;
      if (navigator.share) {
        navigator.share({ title: "Income Tax Summary", text });
      } else {
        navigator.clipboard.writeText(text);
        alert("Summary copied to clipboard!");
      }
    }
  </script>

  <footer style="text-align:center; margin-top:2rem; padding:1rem; background:#f1f1f1; font-size:0.9rem;">
    <p>üìß Contact: <a href="mailto:pratixfinance4@gmail.com">pratixfinance4@gmail.com</a></p>
    <p>¬© 2025 Pratix Finance. Built by Raghav Pratap.</p>
    <p>This calculator helps estimate Indian income tax liability based on your details. For exact info, consult a professional.</p>
  </footer>
</body>
</html>
