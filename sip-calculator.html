<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SIP Calculator - Pratix Finance</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #c6ffdd, #fbd786, #f7797d);
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }

    .container {
      max-width: 500px;
      width: 100%;
      background: #ffffffee;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      padding: 20px;
    }

    .logo {
      width: 60px;
      height: 60px;
      margin: 0 auto;
      display: block;
    }

    h1 {
      text-align: center;
      margin-top: 10px;
      font-size: 24px;
    }

    select, input {
      width: 100%;
      padding: 12px;
      margin: 12px 0;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 16px;
    }

    button {
      width: 100%;
      padding: 12px;
      margin-top: 10px;
      font-size: 16px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.3s;
    }

    .reset { background: #f44336; color: white; }
    .calculate { background: #4caf50; color: white; }
    .preview { background: #2196f3; color: white; }

    .reset:hover { background: #d32f2f; }
    .calculate:hover { background: #388e3c; }
    .preview:hover { background: #1976d2; }

    #result, #charts, #previewSection {
      margin-top: 20px;
      display: none;
    }

    .language-selector {
      margin-bottom: 10px;
      font-size: 16px;
    }

    @media (max-width: 600px) {
      h1 { font-size: 20px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <img src="logo.png" alt="Pratix Finance Logo" class="logo">
    <h1 id="sip-title">SIP Calculator</h1>

    <!-- Language Selector -->
    <label for="language" class="language-selector" id="language-label">ğŸŒ Select Language:</label>
    <select id="language" onchange="changeLanguage()">
      <option value="en">English</option>
      <option value="hi">à¤¹à¤¿à¤‚à¤¦à¥€</option>
      <option value="bn">à¦¬à¦¾à¦‚à¦²à¦¾</option>
      <option value="fr">FranÃ§ais</option>
      <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
      <option value="es">EspaÃ±ol</option>
      <option value="ja">æ—¥æœ¬èª</option>
      <option value="ko">í•œêµ­ì–´</option>
    </select>

    <!-- Input Fields -->
    <label id="monthly-investment-label">ğŸ’¸ Monthly Investment (â‚¹)</label>
    <input type="number" id="monthlyInvestment" placeholder="Enter amount" />

    <label id="interest-rate-label">ğŸ“ˆ Expected Annual Return (%)</label>
    <input type="number" id="interestRate" placeholder="Enter annual return" />

    <label id="investment-period-label">ğŸ“… Investment Period (Years)</label>
    <input type="number" id="investmentPeriod" placeholder="Enter years" />

    <!-- Buttons -->
    <button class="reset" onclick="resetForm()" id="reset-button">ğŸ” Reset</button>
    <button class="calculate" onclick="calculateSIP()" id="calculate-button">ğŸ“Š Calculate</button>
    <button class="preview" onclick="showPreview()" id="preview-button">ğŸ–¼ï¸ Preview</button>

    <!-- Result Section -->
    <div id="result"></div>

    <!-- Charts Section -->
    <div id="charts">
      <canvas id="pieChart"></canvas>
      <canvas id="barChart"></canvas>
    </div>

    <!-- Preview Section -->
    <div id="previewSection"></div>
  </div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  const translations = {
    en: {
      title: "SIP Calculator",
      language: "ğŸŒ Select Language:",
      monthlyInvestment: "ğŸ’¸ Monthly Investment (â‚¹)",
      interestRate: "ğŸ“ˆ Expected Annual Return (%)",
      investmentPeriod: "ğŸ“… Investment Period (Years)",
      reset: "ğŸ” Reset",
      calculate: "ğŸ“Š Calculate",
      preview: "ğŸ–¼ï¸ Preview",
      invested: "Total Invested",
      returns: "Estimated Returns",
      maturity: "Maturity Value",
      pieTitle: "SIP Summary",
      barTitle: "Year-wise SIP Growth"
    },
    hi: {
      title: "à¤à¤¸à¤†à¤ˆà¤ªà¥€ à¤•à¥ˆà¤²à¤•à¥à¤²à¥‡à¤Ÿà¤°",
      language: "ğŸŒ à¤­à¤¾à¤·à¤¾ à¤šà¥à¤¨à¥‡à¤‚:",
      monthlyInvestment: "ğŸ’¸ à¤®à¤¾à¤¸à¤¿à¤• à¤¨à¤¿à¤µà¥‡à¤¶ (â‚¹)",
      interestRate: "ğŸ“ˆ à¤…à¤¨à¥à¤®à¤¾à¤¨à¤¿à¤¤ à¤µà¤¾à¤°à¥à¤·à¤¿à¤• à¤°à¤¿à¤Ÿà¤°à¥à¤¨ (%)",
      investmentPeriod: "ğŸ“… à¤¨à¤¿à¤µà¥‡à¤¶ à¤…à¤µà¤§à¤¿ (à¤µà¤°à¥à¤·à¥‹à¤‚ à¤®à¥‡à¤‚)",
      reset: "ğŸ” à¤°à¥€à¤¸à¥‡à¤Ÿ",
      calculate: "ğŸ“Š à¤•à¥ˆà¤²à¤•à¥à¤²à¥‡à¤Ÿ à¤•à¤°à¥‡à¤‚",
      preview: "ğŸ–¼ï¸ à¤ªà¥à¤°à¥€à¤µà¥à¤¯à¥‚",
      invested: "à¤•à¥à¤² à¤¨à¤¿à¤µà¥‡à¤¶",
      returns: "à¤…à¤¨à¥à¤®à¤¾à¤¨à¤¿à¤¤ à¤°à¤¿à¤Ÿà¤°à¥à¤¨",
      maturity: "à¤ªà¤°à¤¿à¤ªà¤•à¥à¤µà¤¤à¤¾ à¤°à¤¾à¤¶à¤¿",
      pieTitle: "à¤à¤¸à¤†à¤ˆà¤ªà¥€ à¤¸à¤¾à¤°à¤¾à¤‚à¤¶",
      barTitle: "à¤µà¤°à¥à¤·-à¤µà¤¾à¤° à¤à¤¸à¤†à¤ˆà¤ªà¥€ à¤µà¥ƒà¤¦à¥à¤§à¤¿"
    },
    bn: {
      title: "à¦à¦¸à¦†à¦‡à¦ªà¦¿ à¦•à§à¦¯à¦¾à¦²à¦•à§à¦²à§‡à¦Ÿà¦°",
      language: "ğŸŒ à¦­à¦¾à¦·à¦¾ à¦¨à¦¿à¦°à§à¦¬à¦¾à¦šà¦¨ à¦•à¦°à§à¦¨:",
      monthlyInvestment: "ğŸ’¸ à¦®à¦¾à¦¸à¦¿à¦• à¦¬à¦¿à¦¨à¦¿à¦¯à¦¼à§‹à¦— (â‚¹)",
      interestRate: "ğŸ“ˆ à¦ªà§à¦°à¦¤à§à¦¯à¦¾à¦¶à¦¿à¦¤ à¦¬à¦¾à¦°à§à¦·à¦¿à¦• à¦°à¦¿à¦Ÿà¦¾à¦°à§à¦¨ (%)",
      investmentPeriod: "ğŸ“… à¦¬à¦¿à¦¨à¦¿à¦¯à¦¼à§‹à¦—à§‡à¦° à¦¸à¦®à¦¯à¦¼à¦•à¦¾à¦² (à¦¬à¦›à¦°à§‡)",
      reset: "ğŸ” à¦°à¦¿à¦¸à§‡à¦Ÿ",
      calculate: "ğŸ“Š à¦¹à¦¿à¦¸à¦¾à¦¬ à¦•à¦°à§à¦¨",
      preview: "ğŸ–¼ï¸ à¦ªà§à¦°à¦¿à¦­à¦¿à¦‰",
      invested: "à¦®à§‹à¦Ÿ à¦¬à¦¿à¦¨à¦¿à¦¯à¦¼à§‹à¦—",
      returns: "à¦†à¦¨à§à¦®à¦¾à¦¨à¦¿à¦• à¦°à¦¿à¦Ÿà¦¾à¦°à§à¦¨",
      maturity: "à¦®à§à¦¯à¦¾à¦šà¦¿à¦‰à¦°à¦¿à¦Ÿà¦¿ à¦­à§à¦¯à¦¾à¦²à§",
      pieTitle: "à¦à¦¸à¦†à¦‡à¦ªà¦¿ à¦¸à¦¾à¦°à¦¾à¦‚à¦¶",
      barTitle: "à¦¬à¦›à¦°à¦“à¦¯à¦¼à¦¾à¦°à¦¿ à¦à¦¸à¦†à¦‡à¦ªà¦¿ à¦ªà§à¦°à¦¬à§ƒà¦¦à§à¦§à¦¿"
    },
    fr: {
      title: "Calculateur SIP",
      language: "ğŸŒ Choisir la langue :",
      monthlyInvestment: "ğŸ’¸ Investissement Mensuel (â‚¹)",
      interestRate: "ğŸ“ˆ Rendement Annuel (%)",
      investmentPeriod: "ğŸ“… DurÃ©e de l'Investissement (ans)",
      reset: "ğŸ” RÃ©initialiser",
      calculate: "ğŸ“Š Calculer",
      preview: "ğŸ–¼ï¸ AperÃ§u",
      invested: "Montant Investi",
      returns: "Revenus EstimÃ©s",
      maturity: "Valeur Ã  l'Ã‰chÃ©ance",
      pieTitle: "RÃ©sumÃ© SIP",
      barTitle: "Croissance SIP par AnnÃ©e"
    },
    ru: {
      title: "SIP ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€",
      language: "ğŸŒ Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑĞ·Ñ‹Ğº:",
      monthlyInvestment: "ğŸ’¸ Ğ•Ğ¶ĞµĞ¼ĞµÑÑÑ‡Ğ½Ñ‹Ğµ Ğ¸Ğ½Ğ²ĞµÑÑ‚Ğ¸Ñ†Ğ¸Ğ¸ (â‚¹)",
      interestRate: "ğŸ“ˆ Ğ“Ğ¾Ğ´Ğ¾Ğ²Ğ°Ñ Ğ”Ğ¾Ñ…Ğ¾Ğ´Ğ½Ğ¾ÑÑ‚ÑŒ (%)",
      investmentPeriod: "ğŸ“… Ğ¡Ñ€Ğ¾Ğº Ğ˜Ğ½Ğ²ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ (Ğ»ĞµÑ‚)",
      reset: "ğŸ” Ğ¡Ğ±Ñ€Ğ¾Ñ",
      calculate: "ğŸ“Š Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ",
      preview: "ğŸ–¼ï¸ ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€",
      invested: "Ğ’ÑĞµĞ³Ğ¾ Ğ¸Ğ½Ğ²ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾",
      returns: "ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ğ°Ñ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»ÑŒ",
      maturity: "Ğ¡ÑƒĞ¼Ğ¼Ğ° Ğº Ğ¾ĞºĞ¾Ğ½Ñ‡Ğ°Ğ½Ğ¸Ñ",
      pieTitle: "Ğ˜Ñ‚Ğ¾Ğ³ SIP",
      barTitle: "Ğ Ğ¾ÑÑ‚ SIP Ğ¿Ğ¾ Ğ³Ğ¾Ğ´Ğ°Ğ¼"
    },
    es: {
      title: "Calculadora SIP",
      language: "ğŸŒ Seleccione idioma:",
      monthlyInvestment: "ğŸ’¸ InversiÃ³n Mensual (â‚¹)",
      interestRate: "ğŸ“ˆ Retorno Anual Estimado (%)",
      investmentPeriod: "ğŸ“… PerÃ­odo de InversiÃ³n (aÃ±os)",
      reset: "ğŸ” Reiniciar",
      calculate: "ğŸ“Š Calcular",
      preview: "ğŸ–¼ï¸ Vista previa",
      invested: "Total Invertido",
      returns: "Rendimientos Estimados",
      maturity: "Valor de Madurez",
      pieTitle: "Resumen SIP",
      barTitle: "Crecimiento SIP Anual"
    },
    ja: {
      title: "SIPè¨ˆç®—æ©Ÿ",
      language: "ğŸŒ è¨€èªã‚’é¸æŠ:",
      monthlyInvestment: "ğŸ’¸ æ¯æœˆã®æŠ•è³‡é¡ (â‚¹)",
      interestRate: "ğŸ“ˆ å¹´é–“åˆ©å›ã‚Š (%)",
      investmentPeriod: "ğŸ“… æŠ•è³‡æœŸé–“ (å¹´)",
      reset: "ğŸ” ãƒªã‚»ãƒƒãƒˆ",
      calculate: "ğŸ“Š è¨ˆç®—",
      preview: "ğŸ–¼ï¸ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼",
      invested: "ç·æŠ•è³‡é¡",
      returns: "æ¨å®šåç›Š",
      maturity: "æº€æœŸé¡",
      pieTitle: "SIPã®æ¦‚è¦",
      barTitle: "å¹´ã”ã¨ã®æˆé•·"
    },
    ko: {
      title: "SIP ê³„ì‚°ê¸°",
      language: "ğŸŒ ì–¸ì–´ ì„ íƒ:",
      monthlyInvestment: "ğŸ’¸ ì›”ë³„ íˆ¬ìê¸ˆ (â‚¹)",
      interestRate: "ğŸ“ˆ ì˜ˆìƒ ì—°ê°„ ìˆ˜ìµë¥  (%)",
      investmentPeriod: "ğŸ“… íˆ¬ì ê¸°ê°„ (ë…„)",
      reset: "ğŸ” ì´ˆê¸°í™”",
      calculate: "ğŸ“Š ê³„ì‚°",
      preview: "ğŸ–¼ï¸ ë¯¸ë¦¬ë³´ê¸°",
      invested: "ì´ íˆ¬ìê¸ˆ",
      returns: "ì˜ˆìƒ ìˆ˜ìµ",
      maturity: "ë§Œê¸° ê¸ˆì•¡",
      pieTitle: "SIP ìš”ì•½",
      barTitle: "ì—°ë„ë³„ ì„±ì¥"
    }
  };

  let lang = 'en';

  function changeLanguage() {
    lang = document.getElementById("language").value;
    const t = translations[lang];

    document.getElementById("sip-title").innerText = t.title;
    document.getElementById("language-label").innerText = t.language;
    document.getElementById("monthly-investment-label").innerText = t.monthlyInvestment;
    document.getElementById("interest-rate-label").innerText = t.interestRate;
    document.getElementById("investment-period-label").innerText = t.investmentPeriod;
    document.getElementById("reset-button").innerText = t.reset;
    document.getElementById("calculate-button").innerText = t.calculate;
    document.getElementById("preview-button").innerText = t.preview;
  }

  function resetForm() {
    document.getElementById("monthlyInvestment").value = '';
    document.getElementById("interestRate").value = '';
    document.getElementById("investmentPeriod").value = '';
    document.getElementById("result").style.display = "none";
    document.getElementById("charts").style.display = "none";
    document.getElementById("previewSection").style.display = "none";
  }

  function calculateSIP() {
    const monthly = parseFloat(document.getElementById("monthlyInvestment").value);
    const rate = parseFloat(document.getElementById("interestRate").value) / 100 / 12;
    const years = parseInt(document.getElementById("investmentPeriod").value);
    const months = years * 12;

    const maturity = monthly * (((Math.pow(1 + rate, months) - 1) / rate) * (1 + rate));
    const invested = monthly * months;
    const returns = maturity - invested;

    const t = translations[lang];

    document.getElementById("result").innerHTML = `
      <h3>${t.invested}: â‚¹${invested.toFixed(2)}</h3>
      <h3>${t.returns}: â‚¹${returns.toFixed(2)}</h3>
      <h3>${t.maturity}: â‚¹${maturity.toFixed(2)}</h3>
    `;
    document.getElementById("result").style.display = "block";

    showCharts(invested, returns, t);
  }

  let pieChartInstance, barChartInstance;

  function showCharts(invested, returns, t) {
    document.getElementById("charts").style.display = "block";

    const pieCtx = document.getElementById("pieChart").getContext("2d");
    const barCtx = document.getElementById("barChart").getContext("2d");

    if (pieChartInstance) pieChartInstance.destroy();
    if (barChartInstance) barChartInstance.destroy();

    pieChartInstance = new Chart(pieCtx, {
      type: "pie",
      data: {
        labels: [t.invested, t.returns],
        datasets: [{
          data: [invested, returns],
          backgroundColor: ["#4caf50", "#ff9800"]
        }]
      },
      options: { responsive: true, plugins: { title: { display: true, text: t.pieTitle } } }
    });

    barChartInstance = new Chart(barCtx, {
      type: "bar",
      data: {
        labels: [t.invested, t.returns],
        datasets: [{
          label: t.barTitle,
          data: [invested, returns],
          backgroundColor: ["#4caf50", "#ff9800"]
        }]
      },
      options: { responsive: true, plugins: { legend: { display: false }, title: { display: true, text: t.barTitle } } }
    });
  }

  function showPreview() {
    const container = document.querySelector(".container");
    const clone = container.cloneNode(true);

    // Remove buttons and unwanted sections
    clone.querySelectorAll("button, #charts canvas, select").forEach(e => e.remove());
    clone.querySelector("#charts").style.display = "block";
    clone.querySelector("#previewSection").style.display = "none";

    const previewArea = document.getElementById("previewSection");
    previewArea.innerHTML = "";
    previewArea.appendChild(clone);
    previewArea.style.display = "block";
  }

  window.onload = changeLanguage;
</script>
    <!-- Download & Share Buttons (appear in preview) -->
    <div id="downloadButtons" style="display:none; margin-top: 20px; text-align: center;">
      <button onclick="downloadImage()">ğŸ“· Download Image</button>
      <button onclick="downloadPDF()">ğŸ“„ Download PDF</button>
      <button onclick="shareResult()">ğŸ“¤ Share</button>
    </div>

    <!-- Description Footer -->
    <div style="margin-top: 40px; text-align:center; font-size: 14px; color: #444;">
      <p id="description">
        This SIP (Systematic Investment Plan) calculator helps estimate returns on monthly investments based on expected annual return and investment duration.
        It's useful for financial planning and wealth accumulation strategies.
      </p>
      <p>
        Contact: <a href="mailto:pratixfinance4@gmail.com">pratixfinance4@gmail.com</a>
      </p>
    </div>

    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <!-- Add this to the existing <script> block or inside a new one -->
    <script>
      function showPreview() {
        const t = translations[lang];
        calculateSIP();

        const logo = document.querySelector(".logo").cloneNode(true);
        const title = document.getElementById("sip-title").cloneNode(true);
        const inputs = `
          <p><strong>${t.monthlyInvestment}</strong> â‚¹${document.getElementById("monthlyInvestment").value}</p>
          <p><strong>${t.interestRate}</strong> ${document.getElementById("interestRate").value}%</p>
          <p><strong>${t.investmentPeriod}</strong> ${document.getElementById("investmentPeriod").value} Years</p>
        `;

        const result = document.getElementById("result").cloneNode(true);
        const charts = document.getElementById("charts").cloneNode(true);

        const previewArea = document.getElementById("previewSection");
        previewArea.innerHTML = "";
        previewArea.appendChild(logo);
        previewArea.appendChild(title);
        previewArea.innerHTML += inputs;
        previewArea.appendChild(result);
        previewArea.appendChild(charts);
        previewArea.style.display = "block";

        document.getElementById("downloadButtons").style.display = "block";
      }

      function downloadImage() {
        html2canvas(document.getElementById("previewSection")).then(canvas => {
          const link = document.createElement("a");
          link.download = "sip_result.png";
          link.href = canvas.toDataURL();
          link.click();
        });
      }

      async function downloadPDF() {
        const { jsPDF } = window.jspdf;
        const pdf = new jsPDF();
        const section = document.getElementById("previewSection");

        await html2canvas(section).then(canvas => {
          const imgData = canvas.toDataURL("image/png");
          const width = pdf.internal.pageSize.getWidth();
          const height = (canvas.height * width) / canvas.width;
          pdf.addImage(imgData, 'PNG', 0, 0, width, height);
          pdf.save("sip_result.pdf");
        });
      }

      function shareResult() {
        const text = `Check out my SIP calculation result using Pratix Finance!`;
        if (navigator.share) {
          navigator.share({
            title: "SIP Result - Pratix Finance",
            text: text,
            url: window.location.href
          });
        } else {
          alert("Sharing not supported in this browser.");
        }
      }
    </script>
</body>
</html>