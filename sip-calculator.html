<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SIP Calculator - Pratix Finance</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", sans-serif;
      background: linear-gradient(to bottom right, #f1f9ff, #dbeeff);
      color: #333;
      padding: 20px;
    }
    .container {
      max-width: 500px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .logo {
      text-align: center;
      font-size: 28px;
      font-weight: bold;
      margin-bottom: 10px;
      color: #0077cc;
    }
    h2 {
      text-align: center;
      margin-bottom: 20px;
    }
    label, select, input {
      display: block;
      width: 100%;
      margin: 10px 0;
    }
    input, select {
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    button {
      margin: 10px 5px;
      padding: 10px 20px;
      border: none;
      border-radius: 10px;
      background: #0077cc;
      color: white;
      font-weight: bold;
      cursor: pointer;
    }
    button:hover {
      background: #005fa3;
    }
    .results {
      margin-top: 20px;
      text-align: center;
    }
    canvas {
      max-width: 100%;
      margin: 10px auto;
    }
    #previewSection {
      display: none;
      background: #f9f9f9;
      padding: 15px;
      border-radius: 15px;
      margin-top: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="logo">📈 Pratix Finance</div>
    <h2 id="sip-title">SIP Calculator</h2>

    <label for="language">🌐 Select Language:</label>
    <select id="language" onchange="changeLanguage()">
      <option value="en">English</option>
      <option value="hi">Hindi</option>
      <option value="bn">Bengali</option>
      <option value="fr">French</option>
      <option value="ru">Russian</option>
      <option value="es">Spanish</option>
      <option value="ja">Japanese</option>
      <option value="ko">Korean</option>
    </select>

    <label id="labelMonthly">Monthly Investment (₹)</label>
    <input type="number" id="monthlyInvestment" />

    <label id="labelInterest">Expected Annual Return (%)</label>
    <input type="number" id="interestRate" />

    <label id="labelYears">Investment Duration (Years)</label>
    <input type="number" id="investmentPeriod" />

    <div style="text-align:center;">
      <button onclick="resetFields()">🔄 Reset</button>
      <button onclick="calculateSIP()">📊 Calculate</button>
      <button onclick="showPreview()">👁️ Preview</button>
    </div>

    <div class="results" id="result"></div>

    <div id="charts">
      <canvas id="sipPieChart"></canvas>
      <canvas id="sipBarChart"></canvas>
    </div>

    <div id="previewSection"></div>

    <div id="downloadButtons" style="display:none; text-align:center;">
      <button onclick="downloadImage()">📷 Download Image</button>
      <button onclick="downloadPDF()">📄 Download PDF</button>
      <button onclick="shareResult()">📤 Share</button>
    </div>

    <div style="margin-top: 40px; font-size: 14px; color: #444; text-align:center;">
      <p id="description">
        This SIP (Systematic Investment Plan) calculator helps estimate returns on monthly investments based on expected annual return and investment duration. It's useful for financial planning and wealth accumulation strategies.
      </p>
      <p>
        Contact: <a href="mailto:pratixfinance4@gmail.com">pratixfinance4@gmail.com</a>
      </p>
    </div>
  </div>

  <!-- External Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <script>
    const translations = {
      en: {
        monthlyInvestment: "Monthly Investment (₹)",
        interestRate: "Expected Annual Return (%)",
        investmentPeriod: "Investment Duration (Years)",
        invested: "Total Invested",
        returns: "Estimated Returns",
        maturity: "Maturity Amount",
        pieTitle: "Investment Distribution",
        barTitle: "Investment vs Returns",
        description: "This SIP (Systematic Investment Plan) calculator helps estimate returns on monthly investments based on expected annual return and investment duration. It's useful for financial planning and wealth accumulation strategies."
      },
      hi: {
        monthlyInvestment: "मासिक निवेश (₹)",
        interestRate: "अपेक्षित वार्षिक रिटर्न (%)",
        investmentPeriod: "निवेश अवधि (वर्षों में)",
        invested: "कुल निवेश",
        returns: "अनुमानित रिटर्न",
        maturity: "परिपक्वता राशि",
        pieTitle: "निवेश वितरण",
        barTitle: "निवेश बनाम रिटर्न",
        description: "यह SIP कैलकुलेटर आपके मासिक निवेश पर अनुमानित रिटर्न दिखाता है। यह वित्तीय योजना और धन संचय में मदद करता है।"
      },
      bn: {
        monthlyInvestment: "মাসিক বিনিয়োগ (₹)",
        interestRate: "প্রত্যাশিত বার্ষিক রিটার্ন (%)",
        investmentPeriod: "বিনিয়োগের সময়কাল (বছর)",
        invested: "মোট বিনিয়োগ",
        returns: "আনুমানিক রিটার্ন",
        maturity: "পরিপক্কতা পরিমাণ",
        pieTitle: "বিনিয়োগ বন্টন",
        barTitle: "বিনিয়োগ বনাম রিটার্ন",
        description: "এই SIP ক্যালকুলেটরটি প্রত্যাশিত বার্ষিক রিটার্ন এবং সময়কাল অনুযায়ী আপনার বিনিয়োগের রিটার্ন অনুমান করতে সাহায্য করে।"
      },
      fr: {
        monthlyInvestment: "Investissement Mensuel (₹)",
        interestRate: "Rendement Annuel Attendu (%)",
        investmentPeriod: "Durée de l'Investissement (années)",
        invested: "Total Investi",
        returns: "Rendements Estimés",
        maturity: "Montant à l'Échéance",
        pieTitle: "Répartition de l'Investissement",
        barTitle: "Investissement vs Rendements",
        description: "Ce calculateur SIP aide à estimer les rendements sur les investissements mensuels selon le taux de rendement annuel attendu et la durée d’investissement."
      },
      ru: {
        monthlyInvestment: "Ежемесячные инвестиции (₹)",
        interestRate: "Ожидаемая годовая доходность (%)",
        investmentPeriod: "Срок инвестиций (в годах)",
        invested: "Общие инвестиции",
        returns: "Ожидаемая прибыль",
        maturity: "Сумма к выплате",
        pieTitle: "Распределение инвестиций",
        barTitle: "Инвестиции против Дохода",
        description: "Этот калькулятор SIP помогает оценить доходность от ежемесячных инвестиций по ожидаемой годовой ставке и сроку инвестирования."
      },
      es: {
        monthlyInvestment: "Inversión Mensual (₹)",
        interestRate: "Rendimiento Anual Esperado (%)",
        investmentPeriod: "Duración de la Inversión (años)",
        invested: "Total Invertido",
        returns: "Rendimientos Estimados",
        maturity: "Cantidad al Vencimiento",
        pieTitle: "Distribución de la Inversión",
        barTitle: "Inversión vs Rendimientos",
        description: "Esta calculadora SIP ayuda a estimar los rendimientos de las inversiones mensuales según el rendimiento anual esperado y la duración de la inversión."
      },
      ja: {
        monthlyInvestment: "毎月の投資額 (₹)",
        interestRate: "年間予想収益率 (%)",
        investmentPeriod: "投資期間 (年)",
        invested: "総投資額",
        returns: "予想収益",
        maturity: "満期金額",
        pieTitle: "投資配分",
        barTitle: "投資 vs 収益",
        description: "このSIP計算機は、毎月の投資と予想される年間利回りに基づいて将来の収益を見積もるのに役立ちます。"
      },
      ko: {
        monthlyInvestment: "월별 투자 금액 (₹)",
        interestRate: "예상 연간 수익률 (%)",
        investmentPeriod: "투자 기간 (년)",
        invested: "총 투자금",
        returns: "예상 수익",
        maturity: "만기 금액",
        pieTitle: "투자 분포",
        barTitle: "투자 대비 수익",
        description: "이 SIP 계산기는 월별 투자 및 예상 연간 수익률을 기반으로 수익을 추정하는 데 도움이 됩니다."
      }
    };

    let lang = "en";
    function changeLanguage() {
      lang = document.getElementById("language").value;
      const t = translations[lang];
      document.getElementById("labelMonthly").innerText = t.monthlyInvestment;
      document.getElementById("labelInterest").innerText = t.interestRate;
      document.getElementById("labelYears").innerText = t.investmentPeriod;
      document.getElementById("sip-title").innerText = "SIP Calculator";
      document.getElementById("description").innerText = t.description;
    }

    let pieChart, barChart;
    function calculateSIP() {
      const t = translations[lang];
      const monthly = parseFloat(document.getElementById("monthlyInvestment").value);
      const rate = parseFloat(document.getElementById("interestRate").value) / 100 / 12;
      const years = parseInt(document.getElementById("investmentPeriod").value);
      const months = years * 12;

      const maturity = monthly * (((Math.pow(1 + rate, months) - 1) / rate) * (1 + rate));
      const invested = monthly * months;
      const returns = maturity - invested;

      document.getElementById("result").innerHTML = `
        <h3>${t.maturity}: ₹${maturity.toFixed(2)}</h3>
        <p>${t.invested}: ₹${invested.toFixed(2)}</p>
        <p>${t.returns}: ₹${returns.toFixed(2)}</p>
      `;

      if (pieChart) pieChart.destroy();
      if (barChart) barChart.destroy();

      const pieCtx = document.getElementById("sipPieChart").getContext("2d");
      const barCtx = document.getElementById("sipBarChart").getContext("2d");

      pieChart = new Chart(pieCtx, {
        type: "pie",
        data: {
          labels: [t.invested, t.returns],
          datasets: [{
            data: [invested, returns],
            backgroundColor: ["#4caf50", "#ff9800"]
          }]
        },
        options: { responsive: true, plugins: { title: { display: true, text: t.pieTitle } } }
      });

      barChart = new Chart(barCtx, {
        type: "bar",
        data: {
          labels: [t.invested, t.returns],
          datasets: [{
            label: t.barTitle,
            data: [invested, returns],
            backgroundColor: ["#4caf50", "#ff9800"]
          }]
        },
        options: { responsive: true, plugins: { legend: { display: false }, title: { display: true, text: t.barTitle } } }
      });
    }

    function resetFields() {
      document.getElementById("monthlyInvestment").value = "";
      document.getElementById("interestRate").value = "";
      document.getElementById("investmentPeriod").value = "";
      document.getElementById("result").innerHTML = "";
      document.getElementById("sipPieChart").getContext("2d").clearRect(0, 0, 400, 400);
      document.getElementById("sipBarChart").getContext("2d").clearRect(0, 0, 400, 400);
      if (pieChart) pieChart.destroy();
      if (barChart) barChart.destroy();
      document.getElementById("previewSection").style.display = "none";
      document.getElementById("downloadButtons").style.display = "none";
    }

    function showPreview() {
      calculateSIP();
      const t = translations[lang];

      const preview = document.getElementById("previewSection");
      preview.innerHTML = `
        <div class="logo">📈 Pratix Finance</div>
        <h2>${document.getElementById("sip-title").innerText}</h2>
        <p><strong>${t.monthlyInvestment}</strong>: ₹${document.getElementById("monthlyInvestment").value}</p>
        <p><strong>${t.interestRate}</strong>: ${document.getElementById("interestRate").value}%</p>
        <p><strong>${t.investmentPeriod}</strong>: ${document.getElementById("investmentPeriod").value} Years</p>
        ${document.getElementById("result").innerHTML}
        <canvas id="previewPieChart"></canvas>
        <canvas id="previewBarChart"></canvas>
      `;

      const monthly = parseFloat(document.getElementById("monthlyInvestment").value);
      const rate = parseFloat(document.getElementById("interestRate").value) / 100 / 12;
      const years = parseInt(document.getElementById("investmentPeriod").value);
      const months = years * 12;
      const maturity = monthly * (((Math.pow(1 + rate, months) - 1) / rate) * (1 + rate));
      const invested = monthly * months;
      const returns = maturity - invested;

      new Chart(document.getElementById("previewPieChart"), {
        type: "pie",
        data: {
          labels: [t.invested, t.returns],
          datasets: [{
            data: [invested, returns],
            backgroundColor: ["#4caf50", "#ff9800"]
          }]
        }
      });

      new Chart(document.getElementById("previewBarChart"), {
        type: "bar",
        data: {
          labels: [t.invested, t.returns],
          datasets: [{
            label: t.barTitle,
            data: [invested, returns],
            backgroundColor: ["#4caf50", "#ff9800"]
          }]
        }
      });

      preview.style.display = "block";
      document.getElementById("downloadButtons").style.display = "block";
    }

    function downloadImage() {
      html2canvas(document.getElementById("previewSection")).then(canvas => {
        const link = document.createElement("a");
        link.download = "sip_result.png";
        link.href = canvas.toDataURL();
        link.click();
      });
    }

    async function downloadPDF() {
      const { jsPDF } = window.jspdf;
      const pdf = new jsPDF();
      const section = document.getElementById("previewSection");

      await html2canvas(section).then(canvas => {
        const imgData = canvas.toDataURL("image/png");
        const width = pdf.internal.pageSize.getWidth();
        const height = (canvas.height * width) / canvas.width;
        pdf.addImage(imgData, 'PNG', 0, 0, width, height);
        pdf.save("sip_result.pdf");
      });
    }

    function shareResult() {
      const text = "Check out my SIP calculation from Pratix Finance!";
      if (navigator.share) {
        navigator.share({
          title: "SIP Result",
          text: text,
          url: window.location.href
        });
      } else {
        alert("Sharing is not supported in this browser.");
      }
    }
  </script>
</body>
</html>
