<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Advanced EMI Calculator</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Reset and base styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: #0d1117;
  color: #ffffff;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  padding: 20px;
}

.app {
  width: 100%;
  max-width: 500px;
}

/* Header with centered logo */
header {
  display: flex;
  justify-content: center;
  margin-bottom: 20px;
}

.logo {
  width: 100px;
  height: auto;
}

/* Calculator card */
.calculator-card {
  background: #161b22;
  border-radius: 12px;
  padding: 24px;
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.05);
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* Input styles */
.input-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.input-group label {
  font-weight: bold;
  color: #c9d1d9;
}

.input-group input {
  padding: 10px;
  border: none;
  border-radius: 8px;
  background: #21262d;
  color: white;
}

/* Buttons */
button {
  padding: 12px;
  background: #238636;
  border: none;
  border-radius: 8px;
  color: white;
  font-weight: bold;
  cursor: pointer;
  transition: 0.2s;
}

button:hover {
  background: #2ea043;
}

.button-group {
  display: flex;
  justify-content: space-between;
  gap: 10px;
}

/* Chart area */
.charts {
  background: #0d1117;
  padding: 10px 0;
  border-radius: 10px;
  overflow: hidden;
}

/* Chart toggles */
.chart-toggle {
  display: flex;
  justify-content: center;
  gap: 20px;
  font-size: 14px;
  color: #c9d1d9;
}

.chart-toggle label {
  display: flex;
  align-items: center;
  gap: 6px;
}

/* Result summary */
.result-summary {
  background: #21262d;
  padding: 10px;
  border-radius: 8px;
  font-size: 15px;
  color: #c9d1d9;
  text-align: center;
}

/* Footer */
footer {
  text-align: center;
  margin-top: 20px;
  font-size: 13px;
  color: #8b949e;
}

/* Responsive */
@media (max-width: 600px) {
  .calculator-card {
    padding: 16px;
  }

  .input-group input {
    font-size: 16px;
  }

  button {
    font-size: 16px;
    padding: 10px;
  }

  .chart-toggle {
    flex-wrap: wrap;
    gap: 10px;
  }
}

  </style>
</head>
<body>
  <div class="app">
    <!-- Header with centered logo -->
    <header>
      <img src="logo.png" alt="Logo" class="logo" />
    </header>

    <!-- Main calculator card -->
    <main class="calculator-card">
      <div class="input-group">
        <label for="loanAmount">Loan Amount</label>
        <input type="number" id="loanAmount" placeholder="Enter loan amount" />
      </div>

      <div class="input-group">
        <label for="interestRate">Interest Rate (p.a)</label>
        <input type="number" id="interestRate" placeholder="Enter interest rate" />
      </div>

      <div class="input-group">
        <label for="loanTenure">Loan Tenure (in years)</label>
        <input type="number" id="loanTenure" placeholder="Enter loan tenure" />
      </div>

      <button id="calculateBtn">Calculate EMI</button>

      <!-- Summary above charts -->
      <div id="resultSummary" class="result-summary"></div>

      <!-- Chart Selection Toggles -->
      <div class="chart-toggle">
        <label><input type="checkbox" id="barToggle" checked /> Bar</label>
        <label><input type="checkbox" id="pieToggle" /> Pie</label>
        <label><input type="checkbox" id="lineToggle" /> Line</label>
      </div>

      <!-- Chart Display Area -->
      <div class="charts">
        <canvas id="barChart"></canvas>
        <canvas id="pieChart" style="display:none;"></canvas>
        <canvas id="lineChart" style="display:none;"></canvas>
      </div>

      <!-- Monthly Table and Compare Loan -->
      <div class="button-group">
        <button id="monthlyBtn">Monthly Table</button>
        <button id="compareBtn">Compare Loan</button>
      </div>
    </main>

    <!-- Footer Branding -->
    <footer>
      © 2025 Pratix Finance — Raghav Pratap
    </footer>
  </div>

  <!-- External JS Files -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="script.js"></script>
 <script> const langMap = {
  en: { loan: "Loan Amount", rate: "Interest Rate (%)", term: "Loan Term (Months)", calculate: "Calculate EMI", monthly: "Monthly Table", compare: "Compare Loan", emi: "EMI", totalInterest: "Total Interest", totalPayment: "Total Payment" },
  hi: { loan: "ऋण राशि", rate: "ब्याज दर (%)", term: "ऋण अवधि (महीनों में)", calculate: "ईएमआई कैलकुलेट करें", monthly: "मासिक तालिका", compare: "ऋण की तुलना करें", emi: "ईएमआई", totalInterest: "कुल ब्याज", totalPayment: "कुल भुगतान" },
  bn: { loan: "ঋণের পরিমাণ", rate: "সুদের হার (%)", term: "ঋণের মেয়াদ (মাস)", calculate: "EMI হিসাব করুন", monthly: "মাসিক তালিকা", compare: "ঋণের তুলনা করুন", emi: "EMI", totalInterest: "মোট সুদ", totalPayment: "মোট পেমেন্ট" },
  fr: { loan: "Montant du prêt", rate: "Taux d'intérêt (%)", term: "Durée du prêt (mois)", calculate: "Calculer l'EMI", monthly: "Table mensuelle", compare: "Comparer les prêts", emi: "EMI", totalInterest: "Intérêt total", totalPayment: "Paiement total" },
  ru: { loan: "Сумма кредита", rate: "Процентная ставка (%)", term: "Срок кредита (мес)", calculate: "Рассчитать EMI", monthly: "Ежемесячная таблица", compare: "Сравнить кредиты", emi: "EMI", totalInterest: "Общий интерес", totalPayment: "Общая выплата" },
  de: { loan: "Darlehensbetrag", rate: "Zinssatz (%)", term: "Darlehenslaufzeit (Monate)", calculate: "EMI berechnen", monthly: "Monatliche Tabelle", compare: "Kredite vergleichen", emi: "EMI", totalInterest: "Gesamte Zinsen", totalPayment: "Gesamtzahlung" },
  es: { loan: "Monto del préstamo", rate: "Tasa de interés (%)", term: "Plazo del préstamo (meses)", calculate: "Calcular EMI", monthly: "Tabla mensual", compare: "Comparar préstamos", emi: "EMI", totalInterest: "Interés total", totalPayment: "Pago total" },
  ko: { loan: "대출 금액", rate: "이자율 (%)", term: "대출 기간 (개월)", calculate: "EMI 계산", monthly: "월별 표", compare: "대출 비교", emi: "EMI", totalInterest: "총 이자", totalPayment: "총 지불" },
  ja: { loan: "ローン金額", rate: "金利 (%)", term: "ローン期間 (月)", calculate: "EMIを計算", monthly: "月次表", compare: "ローンを比較", emi: "EMI", totalInterest: "総利息", totalPayment: "総支払額" }
};

function detectLanguage() {
  const lang = navigator.language.slice(0, 2);
  if (langMap[lang]) setLanguage(lang);
  else setLanguage("en");
}

function setLanguage(lang) {
  const txt = langMap[lang];
  document.getElementById("loanLabel").textContent = txt.loan;
  document.getElementById("rateLabel").textContent = txt.rate;
  document.getElementById("termLabel").textContent = txt.term;
  document.getElementById("calculateBtn").textContent = txt.calculate;
  document.getElementById("monthlyBtn").textContent = txt.monthly;
  document.getElementById("compareBtn").textContent = txt.compare;
}

document.getElementById("language").addEventListener("change", e => {
  setLanguage(e.target.value);
});

function calculateEMI() {
  const loan = parseFloat(document.getElementById("loanAmount").value);
  const rate = parseFloat(document.getElementById("interestRate").value);
  const months = parseInt(document.getElementById("loanTerm").value);

  if (isNaN(loan) || isNaN(rate) || isNaN(months)) return;

  const monthlyRate = rate / 12 / 100;
  const emi = loan * monthlyRate * Math.pow(1 + monthlyRate, months) / (Math.pow(1 + monthlyRate, months) - 1);
  const totalPayment = emi * months;
  const totalInterest = totalPayment - loan;

  document.getElementById("result").innerHTML = `
    <strong>EMI:</strong> ₹${emi.toFixed(2)}<br>
    <strong>Total Interest:</strong> ₹${totalInterest.toFixed(2)}<br>
    <strong>Total Payment:</strong> ₹${totalPayment.toFixed(2)}
  `;

  drawChart(loan, totalInterest);
}

document.getElementById("calculateBtn").addEventListener("click", calculateEMI);

function drawChart(loan, interest) {
  const pie = document.getElementById("pieChart");
  const bar = document.getElementById("barChart");
  const line = document.getElementById("lineChart");

  pie.innerHTML = "";
  bar.innerHTML = "";
  line.innerHTML = "";

  const total = loan + interest;
  const loanPerc = (loan / total) * 100;
  const interestPerc = (interest / total) * 100;

  if (document.getElementById("showPie").checked) {
    const pieCtx = document.createElement("canvas");
    pie.appendChild(pieCtx);
    new Chart(pieCtx, {
      type: 'pie',
      data: {
        labels: ['Loan', 'Interest'],
        datasets: [{
          data: [loan, interest],
          backgroundColor: ['#1f77b4', '#ff7f0e']
        }]
      }
    });
  }

  if (document.getElementById("showBar").checked) {
    const barCtx = document.createElement("canvas");
    bar.appendChild(barCtx);
    new Chart(barCtx, {
      type: 'bar',
      data: {
        labels: ['Loan', 'Interest'],
        datasets: [{
          label: 'Amount (₹)',
          data: [loan, interest],
          backgroundColor: ['#1f77b4', '#ff7f0e']
        }]
      }
    });
  }

  if (document.getElementById("showLine").checked) {
    const lineCtx = document.createElement("canvas");
    line.appendChild(lineCtx);
    new Chart(lineCtx, {
      type: 'line',
      data: {
        labels: ['Loan', 'Interest'],
        datasets: [{
          label: 'Amount (₹)',
          data: [loan, interest],
          backgroundColor: 'rgba(255, 99, 132, 0.5)',
          borderColor: 'rgba(255,99,132,1)',
          fill: false,
          tension: 0.1
        }]
      }
    });
  }
}

document.getElementById("monthlyBtn").addEventListener("click", () => {
  alert("Monthly Table View Feature is Coming Soon!");
});

document.getElementById("compareBtn").addEventListener("click", () => {
  alert("Loan Comparison Feature is Coming Soon!");
});

window.onload = detectLanguage;
</script>

</body>
</html>
