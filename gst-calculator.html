<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>GST Calculator - Pratix Finance</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #e3f2fd, #ffffff);
      margin: 0;
      padding: 0;
      text-align: center;
    }
    header {
      background: #1976d2;
      color: white;
      padding: 1rem;
    }
    .container {
      max-width: 600px;
      margin: 2rem auto;
      background: white;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
    }
    label {
      display: block;
      margin: 1rem 0 0.5rem;
      font-weight: bold;
      text-align: left;
    }
    input, select, button {
      width: 100%;
      padding: 0.7rem;
      margin-bottom: 1rem;
      font-size: 1rem;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    button {
      background: #1976d2;
      color: white;
      border: none;
      cursor: pointer;
      transition: background 0.3s;
    }
    button:hover {
      background: #1565c0;
    }
    .btn-group {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    #resultSection {
      margin-top: 2rem;
      padding: 1rem;
      background: #f1f8e9;
      border-radius: 10px;
      text-align: left;
    }
    canvas {
      max-width: 100%;
      margin-top: 20px;
    }
    #previewMode {
      display: none;
      padding: 1rem;
      margin-top: 1rem;
      background: #fff;
      border-radius: 12px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }
    .download-btns {
      display: flex;
      gap: 10px;
      justify-content: center;
      margin-top: 1rem;
      flex-wrap: wrap;
    }
    footer {
      margin-top: 2rem;
      background: #f5f5f5;
      padding: 2rem;
      text-align: left;
      font-size: 0.95rem;
    }
    .lang-selector {
      margin: 1rem 0;
      text-align: right;
    }
  </style>
</head>
<body>
<header>
  <img src="logo.png" alt="Logo" style="max-width: 150px; display:block; margin:auto;"/>
  <h1>üí∞ GST CALCULATOR</h1>
</header>

<div class="lang-selector">
  <label for="language">üåê Language:</label>
  <select id="language" onchange="changeLanguage()">
    <option value="en">English</option>
    <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
    <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
    <option value="fr">Fran√ßais</option>
    <option value="ru">–†—É—Å—Å–∫–∏–π</option>
    <option value="es">Espa√±ol</option>
    <option value="ja">Êó•Êú¨Ë™û</option>
    <option value="ko">ÌïúÍµ≠Ïñ¥</option>
  </select>
</div>

<div class="container">
  <label for="amount" id="label-amount">Enter Amount (‚Çπ):</label>
  <input type="number" id="amount" placeholder="0" />

  <label for="rate" id="label-rate">Select GST Rate (%):</label>
  <select id="rate">
    <option value="0">0%</option>
    <option value="5">5%</option>
    <option value="12">12%</option>
    <option value="18" selected>18%</option>
    <option value="28">28%</option>
  </select>

  <label for="type" id="label-type">GST Type:</label>
  <select id="type">
    <option value="exclusive">Exclusive</option>
    <option value="inclusive">Inclusive</option>
  </select>

  <div class="btn-group">
    <button id="resetBtn">üîÅ Reset</button>
    <button id="calculateBtn">üìä Calculate</button>
    <button id="previewBtn">üëÅÔ∏è Preview</button>
  </div>

  <div id="resultSection">
    <h3 id="result-title">GST Calculation Result</h3>
    <p id="cgst"></p>
    <p id="sgst"></p>
    <p id="totalGst"></p>
    <p id="finalAmount"></p>
    <canvas id="gstPieChart"></canvas>
    <canvas id="gstBarChart"></canvas>
  </div>
</div>

<div id="previewMode">
  <div id="previewContent"></div>
  <div class="download-btns">
    <button onclick="downloadImage()">üì∏ Image</button>
    <button onclick="downloadPDF()">üìÑ PDF</button>
    <button onclick="navigator.share ? sharePreview() : alert('Sharing not supported')">üì§ Share</button>
  </div>
</div>

<footer>
  <h3>üßæ <span id="footer-title">About GST Calculator</span></h3>
  <p id="footer-description">
    The GST Calculator by Pratix Finance helps you quickly compute Goods and Services Tax (GST) on your purchases or sales.
    Whether you're a business owner, freelancer, or consumer, this tool allows you to calculate inclusive and exclusive GST values,
    view tax breakdowns, and visualize data using charts.
  </p>
  <ul id="footer-features">
    <li>Support for multiple GST rates (0%, 5%, 12%, 18%, 28%)</li>
    <li>Add or remove GST easily</li>
    <li>Visual charts for better understanding</li>
    <li>Multilingual support for regional users</li>
  </ul>
  <p id="footer-contact">üì© For queries or support, contact us at: pratixfinance4@gmail.com</p>
</footer>
<script>
  let pieChart, barChart;

  const translations = {
    en: {
      title: "üí∞ GST CALCULATOR",
      "label-amount": "Enter Amount (‚Çπ):",
      "label-rate": "Select GST Rate (%):",
      "label-type": "GST Type:",
      resultTitle: "GST Calculation Result",
      footerTitle: "About GST Calculator",
      footerDesc: "The GST Calculator by Pratix Finance helps you quickly compute Goods and Services Tax (GST) on your purchases or sales. Whether you're a business owner, freelancer, or consumer, this tool allows you to calculate inclusive and exclusive GST values, view tax breakdowns, and visualize data using charts.",
      features: [
        "Support for multiple GST rates (0%, 5%, 12%, 18%, 28%)",
        "Add or remove GST easily",
        "Visual charts for better understanding",
        "Multilingual support for regional users"
      ],
      contact: "üì© For queries or support, contact us at: pratixfinance4@gmail.com"
    },
    hi: {
      title: "üí∞ ‡§ú‡•Ä‡§è‡§∏‡§ü‡•Ä ‡§ï‡•à‡§≤‡§ï‡•Å‡§≤‡•á‡§ü‡§∞",
      "label-amount": "‡§∞‡§æ‡§∂‡§ø ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç (‚Çπ):",
      "label-rate": "‡§ú‡•Ä‡§è‡§∏‡§ü‡•Ä ‡§¶‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç (%):",
      "label-type": "‡§ú‡•Ä‡§è‡§∏‡§ü‡•Ä ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞:",
      resultTitle: "‡§ú‡•Ä‡§è‡§∏‡§ü‡•Ä ‡§ó‡§£‡§®‡§æ ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ",
      footerTitle: "‡§ú‡•Ä‡§è‡§∏‡§ü‡•Ä ‡§ï‡•à‡§≤‡§ï‡•Å‡§≤‡•á‡§ü‡§∞ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç",
      footerDesc: "Pratix Finance ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§ú‡•Ä‡§è‡§∏‡§ü‡•Ä ‡§ï‡•à‡§≤‡§ï‡•Å‡§≤‡•á‡§ü‡§∞ ‡§Ü‡§™‡§ï‡•Ä ‡§ñ‡§∞‡•Ä‡§¶ ‡§Ø‡§æ ‡§¨‡§ø‡§ï‡•ç‡§∞‡•Ä ‡§™‡§∞ ‡§ó‡•Å‡§°‡•ç‡§∏ ‡§è‡§Ç‡§° ‡§∏‡§∞‡•ç‡§µ‡§ø‡§∏‡•á‡§ú ‡§ü‡•à‡§ï‡•ç‡§∏ (GST) ‡§ï‡•Ä ‡§§‡•ç‡§µ‡§∞‡§ø‡§§ ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§ ‡§Ø‡§π ‡§â‡§™‡§ï‡§∞‡§£ ‡§∏‡§Æ‡§æ‡§µ‡•á‡§∂‡•Ä ‡§î‡§∞ ‡§¨‡§π‡§ø‡§∑‡•ç‡§ï‡•É‡§§ ‡§ú‡•Ä‡§è‡§∏‡§ü‡•Ä ‡§Æ‡•Ç‡§≤‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ, ‡§ü‡•à‡§ï‡•ç‡§∏ ‡§¨‡•ç‡§∞‡•á‡§ï‡§°‡§æ‡§â‡§® ‡§î‡§∞ ‡§ö‡§æ‡§∞‡•ç‡§ü ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§°‡•á‡§ü‡§æ ‡§µ‡§ø‡§ú‡§º‡•Å‡§Ö‡§≤‡§æ‡§á‡§ú‡§º‡•á‡§∂‡§® ‡§ï‡•Ä ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§¶‡•á‡§§‡§æ ‡§π‡•à‡•§",
      features: [
        "‡§µ‡§ø‡§≠‡§ø‡§®‡•ç‡§® ‡§ú‡•Ä‡§è‡§∏‡§ü‡•Ä ‡§¶‡§∞‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§Æ‡§∞‡•ç‡§•‡§® (0%, 5%, 12%, 18%, 28%)",
        "‡§ú‡•Ä‡§è‡§∏‡§ü‡•Ä ‡§ï‡•ã ‡§Ü‡§∏‡§æ‡§®‡•Ä ‡§∏‡•á ‡§ú‡•ã‡§°‡§º‡•á‡§Ç ‡§Ø‡§æ ‡§π‡§ü‡§æ‡§è‡§Ç",
        "‡§¨‡•á‡§π‡§§‡§∞ ‡§∏‡§Æ‡§ù ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ö‡§æ‡§∞‡•ç‡§ü",
        "‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡•Ä‡§Ø ‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ‡§ì‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡§π‡•Å‡§≠‡§æ‡§∑‡•Ä ‡§∏‡§Æ‡§∞‡•ç‡§•‡§®"
      ],
      contact: "üì© ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç: pratixfinance4@gmail.com"
    },
    // Add other languages similarly:
    bn: {/* Bengali */},
    fr: {/* French */},
    ru: {/* Russian */},
    es: {/* Spanish */},
    ja: {/* Japanese */},
    ko: {/* Korean */}
  };

  function changeLanguage(lang) {
    const t = translations[lang];
    if (!t) return;

    document.querySelector("h1").textContent = t.title;
    document.getElementById("label-amount").textContent = t["label-amount"];
    document.getElementById("label-rate").textContent = t["label-rate"];
    document.getElementById("label-type").textContent = t["label-type"];
    document.getElementById("result-title").textContent = t.resultTitle;
    document.getElementById("footer-title").textContent = t.footerTitle;
    document.getElementById("footer-description").textContent = t.footerDesc;
    document.getElementById("footer-features").innerHTML = t.features.map(f => `<li>${f}</li>`).join("");
    document.getElementById("footer-contact").textContent = t.contact;
  }

  document.getElementById("calculateBtn").onclick = () => {
    const amount = parseFloat(document.getElementById("amount").value);
    const rate = parseFloat(document.getElementById("rate").value);
    const type = document.getElementById("type").value;

    if (isNaN(amount)) return alert("Please enter a valid amount!");

    let taxableAmount = amount;
    let gstAmount, cgst, sgst, finalAmount;

    if (type === "inclusive") {
      taxableAmount = amount / (1 + rate / 100);
      gstAmount = amount - taxableAmount;
    } else {
      gstAmount = (amount * rate) / 100;
    }

    cgst = gstAmount / 2;
    sgst = gstAmount / 2;
    finalAmount = type === "inclusive" ? amount : amount + gstAmount;

    document.getElementById("cgst").textContent = `CGST: ‚Çπ${cgst.toFixed(2)}`;
    document.getElementById("sgst").textContent = `SGST: ‚Çπ${sgst.toFixed(2)}`;
    document.getElementById("totalGst").textContent = `Total GST: ‚Çπ${gstAmount.toFixed(2)}`;
    document.getElementById("finalAmount").textContent = `Final Amount: ‚Çπ${finalAmount.toFixed(2)}`;

    const ctx1 = document.getElementById("gstPieChart").getContext("2d");
    const ctx2 = document.getElementById("gstBarChart").getContext("2d");
    if (pieChart) pieChart.destroy();
    if (barChart) barChart.destroy();
    pieChart = new Chart(ctx1, {
      type: 'pie',
      data: {
        labels: ['Taxable Value', 'GST'],
        datasets: [{
          data: [taxableAmount, gstAmount],
          backgroundColor: ['#42a5f5', '#66bb6a']
        }]
      }
    });
    barChart = new Chart(ctx2, {
      type: 'bar',
      data: {
        labels: ['CGST', 'SGST', 'Final Amount'],
        datasets: [{
          label: 'Amount in ‚Çπ',
          data: [cgst, sgst, finalAmount],
          backgroundColor: ['#ff7043', '#ab47bc', '#29b6f6']
        }]
      }
    });
  };

  document.getElementById("resetBtn").onclick = () => {
    document.getElementById("amount").value = "";
    document.getElementById("rate").value = "18";
    document.getElementById("type").value = "exclusive";
    document.getElementById("cgst").textContent = "";
    document.getElementById("sgst").textContent = "";
    document.getElementById("totalGst").textContent = "";
    document.getElementById("finalAmount").textContent = "";
    if (pieChart) pieChart.destroy();
    if (barChart) barChart.destroy();
    document.getElementById("previewMode").style.display = "none";
  };

  document.getElementById("previewBtn").onclick = () => {
    const content = document.getElementById("previewContent");
    const logo = document.querySelector("header").innerHTML;
    const amount = document.getElementById("amount").value;
    const rate = document.getElementById("rate").value;
    const type = document.getElementById("type").value;
    content.innerHTML = `
      <div class="header">${logo}</div>
      <h2>üßæ Input Details</h2>
      <p><strong>Amount:</strong> ‚Çπ${amount}</p>
      <p><strong>GST Rate:</strong> ${rate}%</p>
      <p><strong>Type:</strong> ${type}</p>
      <h2>üìä Result</h2>
      <p>${document.getElementById("cgst").textContent}</p>
      <p>${document.getElementById("sgst").textContent}</p>
      <p>${document.getElementById("totalGst").textContent}</p>
      <p>${document.getElementById("finalAmount").textContent}</p>
    `;
    const pieCanvas = document.getElementById("gstPieChart");
    const barCanvas = document.getElementById("gstBarChart");
    const pieClone = pieCanvas.cloneNode(true);
    const barClone = barCanvas.cloneNode(true);
    content.appendChild(pieClone);
    content.appendChild(barClone);

    const ctx1 = pieClone.getContext("2d");
    const ctx2 = barClone.getContext("2d");
    new Chart(ctx1, { type: 'pie', data: pieChart.data, options: pieChart.options });
    new Chart(ctx2, { type: 'bar', data: barChart.data, options: barChart.options });

    document.getElementById("previewMode").style.display = "block";
  };

  window.downloadImage = () => {
    html2canvas(document.getElementById("previewMode")).then(canvas => {
      const link = document.createElement("a");
      link.download = "gst_preview.png";
      link.href = canvas.toDataURL();
      link.click();
    });
  };

  window.downloadPDF = () => {
    html2canvas(document.getElementById("previewMode")).then(canvas => {
      const { jsPDF } = window.jspdf;
      const pdf = new jsPDF();
      const img = canvas.toDataURL("image/png");
      pdf.addImage(img, "PNG", 10, 10, 190, 0);
      pdf.save("gst_preview.pdf");
    });
  };

  window.sharePreview = () => {
    navigator.share({
      title: "GST Calculation Preview",
      text: "Check out your GST result on Pratix Finance!",
      url: window.location.href
    });
  };

  // Default to English
  changeLanguage("en");
</script>
</body>