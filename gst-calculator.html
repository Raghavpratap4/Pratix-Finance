<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pratix GST Calculator</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/i18next@22.4.14/i18next.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2pdf.js@0.10.1/dist/html2pdf.bundle.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      background: #f6f9fc;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .container {
      width: 100%;
      max-width: 600px;
      background: #fff;
      border-radius: 20px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      padding: 30px;
      margin-top: 20px;
    }
    .language-select {
      margin-bottom: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    select {
      padding: 8px 12px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    .menu {
      position: relative;
    }
    .menu-btn {
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 8px 12px;
      cursor: pointer;
    }
    .dropdown {
      position: absolute;
      top: 40px;
      right: 0;
      background: white;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      display: none;
      flex-direction: column;
      padding: 10px;
    }
    .dropdown.show {
      display: flex;
    }
    .dropdown div {
      padding: 5px 10px;
      cursor: pointer;
    }
    h1, h2 {
      text-align: center;
      color: #102A43;
    }
    input, button {
      width: 100%;
      margin-top: 10px;
      padding: 12px;
      border: 1px solid #ccc;
      border-radius: 10px;
      font-size: 16px;
    }
    button {
      background-color: #007BFF;
      color: white;
      font-weight: bold;
      cursor: pointer;
    }
    button.reset {
      background: #e1e1e1;
      color: #333;
    }
    .tax-type {
      display: flex;
      gap: 10px;
      margin: 10px 0;
    }
    .charts {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }
    canvas {
      width: 45% !important;
      max-width: 200px;
    }
    .info {
      background: #eaf4ff;
      padding: 10px;
      border-radius: 8px;
      margin-top: 20px;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="language-select">
    <select id="lang">
      <option value="en">🇺🇸 English</option>
      <option value="hi">🇮🇳 Hindi</option>
      <option value="bn">🇧🇩 Bengali</option>
      <option value="fr">🇫🇷 French</option>
      <option value="de">🇩🇪 German</option>
      <option value="es">🇪🇸 Spanish</option>
      <option value="ru">🇷🇺 Russian</option>
      <option value="ja">🇯🇵 Japanese</option>
      <option value="ko">🇰🇷 Korean</option>
    </select>
    <div class="menu">
      <div class="menu-btn" onclick="toggleMenu()">☰</div>
      <div class="dropdown" id="dropdown">
        <div onclick="downloadPDF()">Download PDF</div>
        <div onclick="shareCalc()">Share</div>
      </div>
    </div>
  </div>

  <div class="container" id="calculator">
    <h1>PRATIX</h1>
    <h2 data-i18n="gst_calculator">GST Calculator</h2>

    <label data-i18n="enter_amount">Enter Amount</label>
    <input type="number" id="amount" placeholder="Enter amount" />

    <div class="tax-type">
      <button onclick="setType('cgst_sgst')">CGST & SGST</button>
      <button onclick="setType('igst')">IGST</button>
    </div>

    <button onclick="calculate()" data-i18n="calculate">Calculate</button>
    <button class="reset" onclick="resetCalc()" data-i18n="reset">Reset</button>

    <div class="charts">
      <canvas id="barChart"></canvas>
      <canvas id="pieChart"></canvas>
    </div>

    <div class="info" data-i18n="info">GST is added to the base amount for taxable goods and services.</div>
  </div>

  <script>
    const langData = {
      en: { translation: { gst_calculator: "GST Calculator", enter_amount: "Enter Amount", calculate: "Calculate", reset: "Reset", info: "GST is added to the base amount for taxable goods and services." } },
      hi: { translation: { gst_calculator: "जीएसटी कैलकुलेटर", enter_amount: "राशि दर्ज करें", calculate: "गणना करें", reset: "रीसेट करें", info: "GST को माल और सेवाओं की मूल राशि में जोड़ा जाता है।" } },
      bn: { translation: { gst_calculator: "জিএসটি ক্যালকুলেটর", enter_amount: "পরিমাণ লিখুন", calculate: "গণনা করুন", reset: "রিসেট করুন", info: "পণ্যের মূল মূল্যে জিএসটি যোগ করা হয়।" } },
      fr: { translation: { gst_calculator: "Calculateur de TVA", enter_amount: "Entrez le montant", calculate: "Calculer", reset: "Réinitialiser", info: "La TVA est ajoutée au montant de base des biens et services." } },
      de: { translation: { gst_calculator: "Mehrwertsteuerrechner", enter_amount: "Betrag eingeben", calculate: "Berechnen", reset: "Zurücksetzen", info: "Die Mehrwertsteuer wird zum Basisbetrag für Waren und Dienstleistungen hinzugefügt." } },
      es: { translation: { gst_calculator: "Calculadora de IVA", enter_amount: "Ingrese monto", calculate: "Calcular", reset: "Restablecer", info: "El IVA se agrega al monto base de bienes y servicios." } },
      ru: { translation: { gst_calculator: "Калькулятор НДС", enter_amount: "Введите сумму", calculate: "Рассчитать", reset: "Сбросить", info: "НДС добавляется к базовой стоимости товаров и услуг." } },
      ja: { translation: { gst_calculator: "GST計算機", enter_amount: "金額を入力", calculate: "計算する", reset: "リセット", info: "GSTは商品の基本金額に追加されます。" } },
      ko: { translation: { gst_calculator: "GST 계산기", enter_amount: "금액 입력", calculate: "계산", reset: "재설정", info: "GST는 상품 및 서비스의 기본 금액에 추가됩니다." } },
    };

    i18next.init({ lng: 'en', resources: langData }, function(err, t) {
      updateContent();
    });

    document.getElementById('lang').addEventListener('change', function() {
      i18next.changeLanguage(this.value, updateContent);
    });

    function updateContent() {
      document.querySelectorAll('[data-i18n]').forEach(el => {
        el.innerHTML = i18next.t(el.getAttribute('data-i18n'));
      });
    }

    function toggleMenu() {
      document.getElementById('dropdown').classList.toggle('show');
    }

    function setType(type) {
      window.taxType = type;
    }

    function calculate() {
      const amount = parseFloat(document.getElementById('amount').value);
      if (isNaN(amount)) return;
      const rate = 0.18;
      const gst = amount * rate;
      const cgst = gst / 2;
      const sgst = gst / 2;
      const total = amount + gst;

      const bar = new Chart(document.getElementById('barChart'), {
        type: 'bar',
        data: {
          labels: ['Base', '12%', '28%'],
          datasets: [{ label: 'Amount', data: [amount, amount * 0.12, amount * 0.28], backgroundColor: '#007BFF' }]
        }
      });

      const pie = new Chart(document.getElementById('pieChart'), {
        type: 'doughnut',
        data: {
          labels: ['CGST', 'SGST'],
          datasets: [{ data: [cgst, sgst], backgroundColor: ['#007BFF', '#FFC107'] }]
        }
      });
    }

    function resetCalc() {
      document.getElementById('amount').value = '';
      document.getElementById('barChart').remove();
      document.getElementById('pieChart').remove();
      const bar = document.createElement('canvas');
      bar.id = 'barChart';
      const pie = document.createElement('canvas');
      pie.id = 'pieChart';
      document.querySelector('.charts').append(bar);
      document.querySelector('.charts').append(pie);
    }

    function downloadPDF() {
      html2pdf(document.getElementById('calculator'));
    }

    function shareCalc() {
      navigator.clipboard.writeText(window.location.href);
      alert('Link copied to clipboard!');
    }
  </script>
</body>
</html>
