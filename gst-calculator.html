<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>GST Calculator | Pratix Finance</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <select id="languageSelect">
  <option value="bn">ğŸ‡§ğŸ‡© Bengali</option>
  <option value="en" selected>ğŸŒ English</option>
  <option value="fr">ğŸ‡«ğŸ‡· French</option>
  <option value="hi">ğŸ‡®ğŸ‡³ Hindi</option>
  <option value="ja">ğŸ‡¯ğŸ‡µ Japanese</option>
  <option value="ko">ğŸ‡°ğŸ‡· Korean</option>
  <option value="ru">ğŸ‡·ğŸ‡º Russian</option>
  <option value="es">ğŸ‡ªğŸ‡¸ Spanish</option>
</select>

  <div class="container">
    <header>
      <img src="logo.png" alt="Pratix Finance Logo" class="logo" />
      <h1>GST Calculator</h1>
    </header>

    <div class="calculator">
      <div class="input-section">
        <label for="amount">Enter Amount (â‚¹):</label>
        <input type="number" id="amount" placeholder="e.g. 1000" />

        <label for="gstRate">Select GST Rate (%):</label>
        <select id="gstRate">
          <option value="5">5%</option>
          <option value="12">12%</option>
          <option value="18" selected>18%</option>
          <option value="28">28%</option>
          <option value="custom">Custom</option>
        </select>

        <input type="number" id="customRate" placeholder="Custom GST (%)" style="display:none;" />
        
        <div class="btn-group">
          <button id="resetBtn">ğŸ” Reset</button>
          <button id="calculateBtn">ğŸ“Š Calculate</button>
          <button id="previewBtn">ğŸ‘ï¸ Preview</button>
        </div>
      </div>

      <div class="output-section" id="resultSection" style="display: none;">
        <h2>GST Calculation Result</h2>
        <p>CGST: â‚¹<span id="cgst">0.00</span></p>
        <p>SGST: â‚¹<span id="sgst">0.00</span></p>
        <p>Total GST: â‚¹<span id="totalGst">0.00</span></p>
        <p>Final Amount: â‚¹<span id="finalAmount">0.00</span></p>
      </div>

      <canvas id="gstChart" style="display:none; max-width: 100%; margin-top: 20px;"></canvas>
    </div>

    <footer>
      <p>Â© 2025 Pratix Finance | Contact: <a href="mailto:pratixfinance@gmail.com">pratixfinance@gmail.com</a></p>
    </footer>
  </div>
</body>
</html>
<!-- Add this just before </body> in your HTML file -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  const amountInput = document.getElementById('amount');
  const gstRateSelect = document.getElementById('gstRate');
  const customRateInput = document.getElementById('customRate');
  const calculateBtn = document.getElementById('calculateBtn');
  const resetBtn = document.getElementById('resetBtn');
  const previewBtn = document.getElementById('previewBtn');

  const resultSection = document.getElementById('resultSection');
  const cgstEl = document.getElementById('cgst');
  const sgstEl = document.getElementById('sgst');
  const totalGstEl = document.getElementById('totalGst');
  const finalAmountEl = document.getElementById('finalAmount');
  const chartCanvas = document.getElementById('gstChart');

  let chart;

  gstRateSelect.addEventListener('change', () => {
    if (gstRateSelect.value === 'custom') {
      customRateInput.style.display = 'block';
    } else {
      customRateInput.style.display = 'none';
    }
  });

  calculateBtn.addEventListener('click', () => {
    const amount = parseFloat(amountInput.value);
    let gstRate =
      gstRateSelect.value === 'custom'
        ? parseFloat(customRateInput.value)
        : parseFloat(gstRateSelect.value);

    if (isNaN(amount) || isNaN(gstRate)) {
      alert('Please enter valid amount and GST rate.');
      return;
    }

    const totalGST = (amount * gstRate) / 100;
    const cgst = totalGST / 2;
    const sgst = totalGST / 2;
    const finalAmount = amount + totalGST;

    cgstEl.textContent = cgst.toFixed(2);
    sgstEl.textContent = sgst.toFixed(2);
    totalGstEl.textContent = totalGST.toFixed(2);
    finalAmountEl.textContent = finalAmount.toFixed(2);
    resultSection.style.display = 'block';

    renderChart(amount, totalGST);
  });

  resetBtn.addEventListener('click', () => {
    amountInput.value = '';
    gstRateSelect.value = '18';
    customRateInput.value = '';
    customRateInput.style.display = 'none';
    resultSection.style.display = 'none';
    chartCanvas.style.display = 'none';

    if (chart) chart.destroy();
  });

  previewBtn.addEventListener('click', () => {
    window.scrollTo({
      top: resultSection.offsetTop - 20,
      behavior: 'smooth'
    });
  });

  function renderChart(amount, gst) {
    chartCanvas.style.display = 'block';

    if (chart) chart.destroy(); // Destroy existing chart before re-rendering

    chart = new Chart(chartCanvas, {
      type: 'doughnut',
      data: {
        labels: ['Original Amount', 'Total GST'],
        datasets: [{
          data: [amount, gst],
          backgroundColor: ['#007bff', '#00c49f'],
          borderColor: ['#004aad', '#007a6f'],
          borderWidth: 1
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            position: 'bottom'
          },
          tooltip: {
            callbacks: {
              label: context => `â‚¹ ${context.parsed.toFixed(2)}`
            }
          }
        }
      }
    });
  }
</script>