<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <!-- ğŸ§¾ Logo + Title -->
    <div class="header">
      <img src="logo.png" alt="Logo" style="display:block; margin:10px auto; max-width:150px;"/>
      <h1 id="gstcalculatortitle">ğŸ’° GST CALCULATOR</h1>
    </div>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #e3f2fd, #ffffff);
      margin: 0;
      padding: 0;
      text-align: center;
    }

    header {
      background: #1976d2;
      color: white;
      padding: 1rem;
      font-size: 1.5rem;
    }

    .container {
      max-width: 600px;
      margin: 2rem auto;
      background: white;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
    }

    label {
      display: block;
      margin: 1rem 0 0.5rem;
      font-weight: bold;
      text-align: left;
    }

    input, select, button {
      width: 100%;
      padding: 0.7rem;
      margin-bottom: 1rem;
      font-size: 1rem;
      border-radius: 8px;
      border: 1px solid #ccc;
    }

    button {
      background: #1976d2;
      color: white;
      border: none;
      cursor: pointer;
      transition: background 0.3s;
    }

    button:hover {
      background: #1565c0;
    }

    .btn-group {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .language {
      margin-bottom: 1rem;
      text-align: right;
    }

    #resultSection {
      margin-top: 2rem;
      padding: 1rem;
      background: #f1f8e9;
      border-radius: 10px;
      text-align: left;
    }

    canvas {
      max-width: 100%;
      margin-top: 20px;
    }

    #previewMode {
      display: none;
      padding: 1rem;
      margin-top: 1rem;
      background: #e3f2fd;
      border-radius: 12px;
    }

    .download-btns {
      display: flex;
      gap: 10px;
      justify-content: center;
      margin-top: 1rem;
      flex-wrap: wrap;
    }
  </style>
</head>
<body>

<div class="container" id="mainContainer">
  <div class="language">
    <select id="languageSelect">
      <option value="bn">ğŸ‡§ğŸ‡© Bengali</option>
      <option value="en" selected>ğŸŒ English</option>
      <option value="fr">ğŸ‡«ğŸ‡· French</option>
      <option value="hi">ğŸ‡®ğŸ‡³ Hindi</option>
      <option value="ja">ğŸ‡¯ğŸ‡µ Japanese</option>
      <option value="ko">ğŸ‡°ğŸ‡· Korean</option>
      <option value="ru">ğŸ‡·ğŸ‡º Russian</option>
      <option value="es">ğŸ‡ªğŸ‡¸ Spanish</option>
    </select>
  </div>

  <label data-i18n="enterAmount" for="amount">Enter Amount (â‚¹):</label>
  <input type="number" id="amount" placeholder="0" />

  <label data-i18n="selectRate" for="rate">Select GST Rate (%):</label>
  <select id="rate">
    <option value="5">5%</option>
    <option value="12">12%</option>
    <option value="18" selected>18%</option>
    <option value="28">28%</option>
  </select>

  <div class="btn-group">
    <button id="resetBtn" data-i18n="resetBtn">ğŸ” Reset</button>
    <button id="calculateBtn" data-i18n="calculateBtn">ğŸ“Š Calculate</button>
    <button id="previewBtn" data-i18n="previewBtn">ğŸ‘ï¸ Preview</button>
  </div>

  <div id="resultSection">
    <h3 data-i18n="resultTitle">GST Calculation Result</h3>
    <p id="cgst"></p>
    <p id="sgst"></p>
    <p id="totalGst"></p>
    <p id="finalAmount"></p>

    <canvas id="gstPieChart"></canvas>
    <canvas id="gstBarChart"></canvas>
  </div>
</div>

<!-- âœ… Preview Section -->
<div id="previewMode">
  <h2 id="previewTitle">ğŸ“‹ GST Preview</h2>
  <div id="previewContent"></div>
  <div class="download-btns">
    <button onclick="downloadImage()">ğŸ“¸ Image</button>
    <button onclick="downloadPDF()">ğŸ“„ PDF</button>
  </div>
</div>

<script>
  const i18n = {
    en: {
      title: "GST Calculator",
      enterAmount: "Enter Amount (â‚¹):",
      selectRate: "Select GST Rate (%):",
      resetBtn: "ğŸ” Reset",
      calculateBtn: "ğŸ“Š Calculate",
      previewBtn: "ğŸ‘ï¸ Preview",
      resultTitle: "GST Calculation Result",
    },
    hi: {
      title: "à¤œà¥€à¤à¤¸à¤Ÿà¥€ à¤•à¥ˆà¤²à¤•à¥à¤²à¥‡à¤Ÿà¤°",
      enterAmount: "à¤°à¤¾à¤¶à¤¿ à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚ (â‚¹):",
      selectRate: "à¤œà¥€à¤à¤¸à¤Ÿà¥€ à¤¦à¤° à¤šà¥à¤¨à¥‡à¤‚ (%):",
      resetBtn: "ğŸ” à¤°à¥€à¤¸à¥‡à¤Ÿ",
      calculateBtn: "ğŸ“Š à¤•à¥ˆà¤²à¤•à¥à¤²à¥‡à¤Ÿ",
      previewBtn: "ğŸ‘ï¸ à¤ªà¥‚à¤°à¥à¤µà¤¾à¤µà¤²à¥‹à¤•à¤¨",
      resultTitle: "à¤œà¥€à¤à¤¸à¤Ÿà¥€ à¤ªà¤°à¤¿à¤£à¤¾à¤®",
    },
    bn: {
      title: "à¦œà¦¿à¦à¦¸à¦Ÿà¦¿ à¦•à§à¦¯à¦¾à¦²à¦•à§à¦²à§‡à¦Ÿà¦°",
      enterAmount: "à¦ªà¦°à¦¿à¦®à¦¾à¦£ à¦²à¦¿à¦–à§à¦¨ (â‚¹):",
      selectRate: "à¦œà¦¿à¦à¦¸à¦Ÿà¦¿ à¦¹à¦¾à¦° à¦¨à¦¿à¦°à§à¦¬à¦¾à¦šà¦¨ à¦•à¦°à§à¦¨ (%):",
      resetBtn: "ğŸ” à¦°à¦¿à¦¸à§‡à¦Ÿ",
      calculateBtn: "ğŸ“Š à¦¹à¦¿à¦¸à¦¾à¦¬ à¦•à¦°à§à¦¨",
      previewBtn: "ğŸ‘ï¸ à¦ªà§à¦°à¦¿à¦­à¦¿à¦‰",
      resultTitle: "à¦œà¦¿à¦à¦¸à¦Ÿà¦¿ à¦«à¦²à¦¾à¦«à¦²",
    },
    fr: {
      title: "Calculateur de TVA",
      enterAmount: "Entrez le montant (â‚¹):",
      selectRate: "SÃ©lectionnez le taux de TVA (%):",
      resetBtn: "ğŸ” RÃ©initialiser",
      calculateBtn: "ğŸ“Š Calculer",
      previewBtn: "ğŸ‘ï¸ AperÃ§u",
      resultTitle: "RÃ©sultat de la TVA",
    },
    ru: {
      title: "ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ ĞĞ”Ğ¡",
      enterAmount: "Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ÑÑƒĞ¼Ğ¼Ñƒ (â‚¹):",
      selectRate: "Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑÑ‚Ğ°Ğ²ĞºÑƒ ĞĞ”Ğ¡ (%):",
      resetBtn: "ğŸ” Ğ¡Ğ±Ñ€Ğ¾Ñ",
      calculateBtn: "ğŸ“Š Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ",
      previewBtn: "ğŸ‘ï¸ ĞŸÑ€ĞµĞ´Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€",
      resultTitle: "Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ ĞĞ”Ğ¡",
    },
    es: {
      title: "Calculadora de IVA",
      enterAmount: "Ingrese el monto (â‚¹):",
      selectRate: "Seleccione tasa de IVA (%):",
      resetBtn: "ğŸ” Reiniciar",
      calculateBtn: "ğŸ“Š Calcular",
      previewBtn: "ğŸ‘ï¸ Vista previa",
      resultTitle: "Resultado del IVA",
    },
    ja: {
      title: "æ¶ˆè²»ç¨è¨ˆç®—æ©Ÿ",
      enterAmount: "é‡‘é¡ã‚’å…¥åŠ› (â‚¹):",
      selectRate: "æ¶ˆè²»ç¨ç‡ã‚’é¸æŠ (%):",
      resetBtn: "ğŸ” ãƒªã‚»ãƒƒãƒˆ",
      calculateBtn: "ğŸ“Š è¨ˆç®—",
      previewBtn: "ğŸ‘ï¸ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼",
      resultTitle: "æ¶ˆè²»ç¨ã®çµæœ",
    },
    ko: {
      title: "ë¶€ê°€ì„¸ ê³„ì‚°ê¸°",
      enterAmount: "ê¸ˆì•¡ ì…ë ¥ (â‚¹):",
      selectRate: "ë¶€ê°€ì„¸ìœ¨ ì„ íƒ (%):",
      resetBtn: "ğŸ” ì´ˆê¸°í™”",
      calculateBtn: "ğŸ“Š ê³„ì‚°",
      previewBtn: "ğŸ‘ï¸ ë¯¸ë¦¬ë³´ê¸°",
      resultTitle: "ë¶€ê°€ì„¸ ê²°ê³¼",
    },
  };

  const updateLanguage = () => {
    const lang = document.getElementById("languageSelect").value;
    document.querySelectorAll("[data-i18n]").forEach(el => {
      const key = el.getAttribute("data-i18n");
      if (i18n[lang] && i18n[lang][key]) {
        el.textContent = i18n[lang][key];
      }
    });
  };

  document.getElementById("languageSelect").addEventListener("change", updateLanguage);

  let pieChart, barChart;

  document.getElementById("calculateBtn").onclick = () => {
    const amount = parseFloat(document.getElementById("amount").value);
    const rate = parseFloat(document.getElementById("rate").value);

    if (isNaN(amount)) return alert("Please enter a valid amount!");

    const gstAmount = (amount * rate) / 100;
    const cgst = gstAmount / 2;
    const sgst = gstAmount / 2;
    const total = amount + gstAmount;

    document.getElementById("cgst").textContent = `CGST: â‚¹${cgst.toFixed(2)}`;
    document.getElementById("sgst").textContent = `SGST: â‚¹${sgst.toFixed(2)}`;
    document.getElementById("totalGst").textContent = `Total GST: â‚¹${gstAmount.toFixed(2)}`;
    document.getElementById("finalAmount").textContent = `Final Amount: â‚¹${total.toFixed(2)}`;

    // Chart data
    const ctx1 = document.getElementById("gstPieChart").getContext("2d");
    const ctx2 = document.getElementById("gstBarChart").getContext("2d");
    if (pieChart) pieChart.destroy();
    if (barChart) barChart.destroy();

    pieChart = new Chart(ctx1, {
      type: 'pie',
      data: {
        labels: ['Base', 'GST'],
        datasets: [{
          data: [amount, gstAmount],
          backgroundColor: ['#42a5f5', '#66bb6a']
        }]
      }
    });

    barChart = new Chart(ctx2, {
      type: 'bar',
      data: {
        labels: ['CGST', 'SGST', 'Final Amount'],
        datasets: [{
          label: 'Amount in â‚¹',
          data: [cgst, sgst, total],
          backgroundColor: ['#ff7043', '#ab47bc', '#29b6f6']
        }]
      }
    });
  };

  document.getElementById("resetBtn").onclick = () => {
    document.getElementById("amount").value = "";
    document.getElementById("rate").value = "18";
    document.getElementById("cgst").textContent = "";
    document.getElementById("sgst").textContent = "";
    document.getElementById("totalGst").textContent = "";
    document.getElementById("finalAmount").textContent = "";
    if (pieChart) pieChart.destroy();
    if (barChart) barChart.destroy();
  };

  document.getElementById("previewBtn").onclick = () => {
    const content = document.getElementById("previewContent");
    content.innerHTML = `
      <p>${document.getElementById("cgst").textContent}</p>
      <p>${document.getElementById("sgst").textContent}</p>
      <p>${document.getElementById("totalGst").textContent}</p>
      <p>${document.getElementById("finalAmount").textContent}</p>
    `;
    document.getElementById("previewMode").style.display = "block";
    document.getElementById("previewContent").appendChild(document.getElementById("gstPieChart"));
    document.getElementById("previewContent").appendChild(document.getElementById("gstBarChart"));
  };

  window.downloadImage = () => {
    html2canvas(document.getElementById("previewMode")).then(canvas => {
      const link = document.createElement("a");
      link.download = "gst_preview.png";
      link.href = canvas.toDataURL();
      link.click();
    });
  };

  window.downloadPDF = () => {
    html2canvas(document.getElementById("previewMode")).then(canvas => {
      const { jsPDF } = window.jspdf;
      const pdf = new jsPDF();
      const img = canvas.toDataURL("image/png");
      pdf.addImage(img, "PNG", 10, 10, 190, 0);
      pdf.save("gst_preview.pdf");
    });
  };

  updateLanguage();
</script>
</body>
</html>
