<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Advanced EMI Calculator</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2pdf.js@0.10.1/dist/html2pdf.bundle.min.js"></script>
<style>
  /* Reset and global styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Segoe UI', sans-serif;
  background: #121212;
  color: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  padding: 1rem;
}

.app-container {
  width: 100%;
  max-width: 500px;
  background: #1e1e1e;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 0 20px rgba(0, 255, 255, 0.1);
}

/* Header */
.app-header {
  background: #000;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 1rem;
  position: relative;
}

.app-logo {
  height: 50px;
}

.menu {
  position: absolute;
  right: 1rem;
  top: 50%;
  transform: translateY(-50%);
}

.menu select {
  padding: 0.3rem 0.5rem;
  background: #222;
  color: #fff;
  border: none;
  border-radius: 6px;
  font-size: 14px;
}

/* Main Card */
.calculator-card {
  padding: 2rem 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1.2rem;
}

h1 {
  text-align: center;
  font-size: 1.5rem;
  font-weight: bold;
}

.input-section {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.input-section input {
  padding: 0.8rem;
  font-size: 1rem;
  border: none;
  border-radius: 8px;
  background: #2c2c2c;
  color: #fff;
}

.input-section button {
  padding: 0.9rem;
  font-size: 1rem;
  background: #00c2cb;
  color: #000;
  border: none;
  border-radius: 8px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
}

.input-section button:hover {
  background: #00e6f6;
}

.results-text {
  text-align: center;
  font-size: 1rem;
  font-weight: 600;
  color: #00e6f6;
}

/* Chart Controls */
.chart-switcher {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
  font-size: 0.9rem;
}

.chart-switcher label {
  cursor: pointer;
}

canvas {
  max-width: 100%;
  background: #181818;
  border-radius: 8px;
  padding: 1rem;
}

/* Action buttons */
.action-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  justify-content: center;
  margin-top: 1rem;
}

.action-buttons button {
  flex: 1 1 40%;
  padding: 0.7rem;
  font-size: 0.9rem;
  background: #333;
  color: #fff;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

.action-buttons button:hover {
  background: #444;
}

/* Tables */
.table-container {
  margin-top: 1.5rem;
  background: #222;
  padding: 1rem;
  border-radius: 8px;
  overflow-x: auto;
}

.table-container table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.9rem;
  color: #fff;
}

.table-container th,
.table-container td {
  border: 1px solid #444;
  padding: 0.5rem;
  text-align: center;
}

.table-container th {
  background: #333;
}

/* Footer */
.app-footer {
  text-align: center;
  background: #000;
  padding: 1rem;
  font-size: 0.8rem;
  color: #aaa;
}

/* Responsive Design */
@media (max-width: 600px) {
  .calculator-card {
    padding: 1.5rem 1rem;
  }

  .action-buttons button {
    flex: 1 1 100%;
  }

  .chart-switcher {
    flex-direction: column;
    align-items: center;
  }

  .menu {
    right: 0.5rem;
  }
}

</style>
</head>

<body>
  <div class="app-container">
    <header class="app-header">
      <img src="logo.png" alt="Logo" class="app-logo" />
      <div class="menu">
        <select id="languageSelector">
          <option value="en">English</option>
          <option value="hi">हिन्दी</option>
          <option value="bn">বাংলা</option>
          <option value="fr">Français</option>
          <option value="ru">Русский</option>
          <option value="de">Deutsch</option>
          <option value="es">Español</option>
          <option value="ko">한국어</option>
          <option value="ja">日本語</option>
        </select>
      </div>
    </header>

    <main class="calculator-card">
      <h1 data-lang="emiCalculator">EMI Calculator</h1>
      <div class="input-section">
        <input type="number" id="loanAmount" placeholder="Loan Amount" />
        <input type="number" id="interestRate" placeholder="Interest Rate (%)" />
        <input type="number" id="loanTenure" placeholder="Loan Tenure (Years)" />
        <button onclick="calculateEMI()" id="calculateBtn" data-lang="calculate">Calculate</button>
      </div>

      <div id="resultsText" class="results-text"></div>

      <div class="chart-switcher">
        <label><input type="radio" name="chartType" value="bar" checked> Bar</label>
        <label><input type="radio" name="chartType" value="line"> Line</label>
        <label><input type="radio" name="chartType" value="pie"> Pie</label>
      </div>

      <canvas id="emiChart"></canvas>

      <div class="action-buttons">
        <button onclick="showMonthlySchedule()" data-lang="monthlySchedule">Monthly Table</button>
        <button onclick="compareLoan()" data-lang="compareLoan">Compare Loan</button>
        <button onclick="downloadPDF()" data-lang="downloadPDF">Download PDF</button>
      </div>

      <div id="monthlyTable" class="table-container"></div>
      <div id="compareTable" class="table-container"></div>
    </main>

    <footer class="app-footer">
      <p>© 2025 Pratix Finance — Raghav Pratap</p>
    </footer>
  </div>

  <script src="script.js"></script>
  <script>
  // JavaScript logic with all requested features
  document.addEventListener("DOMContentLoaded", function () {
    const principalInput = document.getElementById("loanAmount");
    const rateInput = document.getElementById("interestRate");
    const tenureInput = document.getElementById("loanTenure");
    const calculateBtn = document.getElementById("calculateBtn");
    const pieChartBtn = document.getElementById("showPie");
    const barChartBtn = document.getElementById("showBar");
    const lineChartBtn = document.getElementById("showLine");
    const chartCanvas = document.getElementById("chart");
    const resultText = document.getElementById("resultText");
    const compareBtn = document.getElementById("compareBtn");
    const monthlyTableBtn = document.getElementById("monthlyTableBtn");
    const monthlyTableSection = document.getElementById("monthlyTableSection");
    const languageSelector = document.getElementById("languageSelector");
    let chartInstance;

    function calculateEMI(principal, rate, tenure) {
      let monthlyRate = rate / 12 / 100;
      return (principal * monthlyRate * Math.pow(1 + monthlyRate, tenure)) / (Math.pow(1 + monthlyRate, tenure) - 1);
    }

    function showResults(principal, rate, tenure) {
      const emi = calculateEMI(principal, rate, tenure);
      const totalPayment = emi * tenure;
      const totalInterest = totalPayment - principal;

      resultText.innerHTML = `EMI: ₹${emi.toFixed(2)} | Total Interest: ₹${totalInterest.toFixed(2)} | Total Payment: ₹${totalPayment.toFixed(2)}`;

      return { emi, totalPayment, totalInterest };
    }

    function renderChart(type, values) {
      if (chartInstance) chartInstance.destroy();

      chartInstance = new Chart(chartCanvas, {
        type,
        data: {
          labels: ["Principal", "Interest"],
          datasets: [{
            label: "Loan Breakdown",
            data: [values.principal, values.totalInterest],
            backgroundColor: ["#4BC0C0", "#FF6384"]
          }]
        },
        options: { responsive: true, plugins: { legend: { position: "top" } } }
      });
    }

    calculateBtn.addEventListener("click", () => {
      let p = parseFloat(principalInput.value), r = parseFloat(rateInput.value), t = parseFloat(tenureInput.value);
      if (!p || !r || !t) return alert("Please fill all fields.");
      const result = showResults(p, r, t);
      renderChart("bar", { principal: p, totalInterest: result.totalInterest });
    });

    pieChartBtn.onclick = () => {
      const p = +principalInput.value, r = +rateInput.value, t = +tenureInput.value;
      const result = showResults(p, r, t);
      renderChart("pie", { principal: p, totalInterest: result.totalInterest });
    };

    barChartBtn.onclick = () => {
      const p = +principalInput.value, r = +rateInput.value, t = +tenureInput.value;
      const result = showResults(p, r, t);
      renderChart("bar", { principal: p, totalInterest: result.totalInterest });
    };

    lineChartBtn.onclick = () => {
      const p = +principalInput.value, r = +rateInput.value, t = +tenureInput.value;
      const result = showResults(p, r, t);
      renderChart("line", { principal: p, totalInterest: result.totalInterest });
    };

    monthlyTableBtn.onclick = () => {
      const p = +principalInput.value, r = +rateInput.value, t = +tenureInput.value;
      const emi = calculateEMI(p, r, t), ratePerMonth = r / 12 / 100;
      let balance = p;
      let table = "<table><tr><th>Month</th><th>EMI</th><th>Principal</th><th>Interest</th><th>Balance</th></tr>";

      for (let i = 1; i <= t; i++) {
        const interest = balance * ratePerMonth;
        const principal = emi - interest;
        balance -= principal;
        table += `<tr><td>${i}</td><td>₹${emi.toFixed(2)}</td><td>₹${principal.toFixed(2)}</td><td>₹${interest.toFixed(2)}</td><td>₹${balance.toFixed(2)}</td></tr>`;
      }

      table += "</table>";
      monthlyTableSection.innerHTML = table;
    };

    compareBtn.onclick = () => alert("Compare feature coming soon");

    // 9-language support
    const translations = {
      en: { calculate: "Calculate", monthlyTable: "Monthly Table", compare: "Compare Loans" },
      hi: { calculate: "गणना करें", monthlyTable: "मासिक तालिका", compare: "ऋण तुलना करें" },
      bn: { calculate: "গণনা করুন", monthlyTable: "মাসিক সারণী", compare: "ঋণ তুলনা করুন" },
      fr: { calculate: "Calculer", monthlyTable: "Tableau Mensuel", compare: "Comparer les prêts" },
      ru: { calculate: "Рассчитать", monthlyTable: "Ежемесячная таблица", compare: "Сравнить кредиты" },
      de: { calculate: "Berechnen", monthlyTable: "Monatstabelle", compare: "Darlehen vergleichen" },
      es: { calculate: "Calcular", monthlyTable: "Tabla Mensual", compare: "Comparar Préstamos" },
      ko: { calculate: "계산하기", monthlyTable: "월별 표", compare: "대출 비교" },
      ja: { calculate: "計算する", monthlyTable: "月次表", compare: "ローンを比較する" },
    };

    languageSelector.addEventListener("change", () => {
      const lang = languageSelector.value;
      if (translations[lang]) {
        document.getElementById("calculateBtn").textContent = translations[lang].calculate;
        document.getElementById("monthlyTableBtn").textContent = translations[lang].monthlyTable;
        document.getElementById("compareBtn").textContent = translations[lang].compare;
      }
    });

    // Auto-detect language
    const userLang = navigator.language.slice(0, 2);
    if (translations[userLang]) {
      languageSelector.value = userLang;
      languageSelector.dispatchEvent(new Event("change"));
    }
  });
</script>

</body>
</html>
