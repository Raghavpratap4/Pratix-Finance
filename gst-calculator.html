<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Advanced EMI Calculator ‚Äî Pratix Finance</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" />
  <link rel="icon" href="logo.png" type="image/png">
  <style>
    * {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
body {
  font-family: 'Inter', sans-serif;
  background: #0d1117;
  color: #f0f6fc;
  padding: 20px;
}
.app-container {
  max-width: 900px;
  margin: auto;
}
.app-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: #161b22;
  padding: 15px 20px;
  border-radius: 10px;
}
.app-logo {
  height: 40px;
}
.app-header h1 {
  flex: 1;
  text-align: center;
  font-size: 1.5rem;
  color: #58a6ff;
}
.menu-container {
  position: relative;
}
.menu-btn {
  background: transparent;
  color: #f0f6fc;
  border: none;
  font-size: 20px;
  cursor: pointer;
}
.menu-dropdown {
  display: none;
  position: absolute;
  right: 0;
  background: #161b22;
  border: 1px solid #30363d;
  padding: 10px;
  border-radius: 8px;
  z-index: 999;
}
.menu-container:hover .menu-dropdown {
  display: block;
}
.menu-dropdown select,
.menu-dropdown button {
  margin: 5px 0;
  width: 100%;
  padding: 6px;
  border-radius: 6px;
  border: none;
  background: #21262d;
  color: #f0f6fc;
}

.calculator-card {
  background: #161b22;
  padding: 20px;
  margin-top: 20px;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(88, 166, 255, 0.2);
}
.input-row {
  display: flex;
  flex-direction: column;
  margin-bottom: 15px;
}
.input-row label {
  margin-bottom: 5px;
  font-weight: 600;
}
.input-row input {
  padding: 10px;
  border-radius: 6px;
  border: 1px solid #30363d;
  background: #0d1117;
  color: #f0f6fc;
}
.button-group {
  display: flex;
  justify-content: space-between;
  gap: 10px;
}
.button-group button {
  flex: 1;
  padding: 12px;
  border: none;
  border-radius: 6px;
  background: #238636;
  color: #fff;
  font-weight: bold;
  cursor: pointer;
}
.button-group button:hover {
  background: #2ea043;
}
.result-summary {
  background: #1c2128;
  padding: 15px;
  border-radius: 10px;
  margin-top: 20px;
  border-left: 4px solid #58a6ff;
}
.chart-toggle {
  display: flex;
  justify-content: center;
  margin: 20px 0;
  gap: 10px;
}
.chart-btn {
  padding: 10px 15px;
  border: none;
  border-radius: 8px;
  background: #21262d;
  color: #f0f6fc;
  cursor: pointer;
}
.chart-btn:hover,
.chart-btn.active {
  background: #58a6ff;
  color: #fff;
}
.chart-container {
  background: #161b22;
  padding: 20px;
  border-radius: 10px;
}
.chart-canvas {
  width: 100% !important;
  height: auto !important;
}
.actions {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin: 20px 0;
}
.actions button {
  padding: 10px;
  background: #21262d;
  color: #f0f6fc;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}
.actions button:hover {
  background: #58a6ff;
  color: #fff;
}
.schedule-table,
.compare-section {
  background: #0d1117;
  color: #f0f6fc;
  padding: 15px;
  margin: 20px 0;
  border-radius: 10px;
  overflow-x: auto;
  border: 1px solid #30363d;
}
.app-footer {
  text-align: center;
  padding: 20px 0;
  color: #8b949e;
  font-size: 0.9rem;
  margin-top: 30px;
}

/* Responsive */
@media (max-width: 768px) {
  .app-header {
    flex-direction: column;
    gap: 10px;
  }
  .button-group,
  .chart-toggle,
  .actions {
    flex-direction: column;
  }
}
  </style>
</head>
<body>
  <div class="app-container">
    <!-- ‚úÖ Header with Logo -->
    <header class="app-header">
      <img src="logo.png" alt="Pratix Finance Logo" class="app-logo" />
      <h1>Advanced EMI Calculator</h1>
      <div class="menu-container">
        <button class="menu-btn">‚ãÆ</button>
        <div class="menu-dropdown" id="menuDropdown">
          <select id="languageSelector">
            <option value="en">English</option>
            <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
            <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
            <option value="fr">Fran√ßais</option>
            <option value="ru">–†—É—Å—Å–∫–∏–π</option>
            <option value="de">Deutsch</option>
            <option value="es">Espa√±ol</option>
            <option value="ko">ÌïúÍµ≠Ïñ¥</option>
            <option value="ja">Êó•Êú¨Ë™û</option>
          </select>
          <button id="downloadPdf">üìÑ Download PDF</button>
          <button id="installPwa">‚¨á Install App</button>
        </div>
      </div>
    </header>

    <!-- ‚úÖ Input Form -->
    <div class="calculator-card">
      <div class="input-row">
        <label data-i18n="loanAmount">Loan Amount</label>
        <input type="number" id="loanAmount" placeholder="e.g. 500000" />
      </div>
      <div class="input-row">
        <label data-i18n="interestRate">Interest Rate (%)</label>
        <input type="number" id="interestRate" placeholder="e.g. 7.5" />
      </div>
      <div class="input-row">
        <label data-i18n="loanTerm">Loan Term (years)</label>
        <input type="number" id="loanTerm" placeholder="e.g. 10" />
      </div>
      <div class="input-row">
        <label data-i18n="processingFee">Processing Fee (%)</label>
        <input type="number" id="processingFee" placeholder="Optional" />
      </div>
      <div class="input-row">
        <label data-i18n="insuranceAmount">Insurance Amount</label>
        <input type="number" id="insuranceAmount" placeholder="Optional" />
      </div>
      <div class="button-group">
        <button id="calculateBtn" data-i18n="calculate">Calculate</button>
        <button id="resetBtn" data-i18n="reset">Reset</button>
      </div>
    </div>

    <!-- ‚úÖ Result Summary (Text) -->
    <div id="resultText" class="result-summary" style="display:none;">
      <h3 data-i18n="summary">Summary</h3>
      <p id="emiResult"></p>
      <p id="interestResult"></p>
      <p id="totalPaymentResult"></p>
    </div>

    <!-- ‚úÖ Chart Toggles -->
    <div class="chart-toggle">
      <button class="chart-btn" data-chart="bar" data-i18n="barChart">Bar</button>
      <button class="chart-btn" data-chart="pie" data-i18n="pieChart">Pie</button>
      <button class="chart-btn" data-chart="line" data-i18n="lineChart">Line</button>
    </div>

    <!-- ‚úÖ Chart Area -->
    <div class="chart-container">
      <canvas id="chartBar" class="chart-canvas"></canvas>
      <canvas id="chartPie" class="chart-canvas" style="display:none;"></canvas>
      <canvas id="chartLine" class="chart-canvas" style="display:none;"></canvas>
    </div>

    <!-- ‚úÖ Action Buttons -->
    <div class="actions">
      <button id="monthlyTableBtn" data-i18n="monthlyTable">üìÖ Monthly Table</button>
      <button id="compareLoanBtn" data-i18n="compareLoan">üîÅ Compare Loan</button>
    </div>

    <!-- ‚úÖ Monthly Table -->
    <div id="monthlySchedule" class="schedule-table" style="display:none;"></div>

    <!-- ‚úÖ Compare Loan Section -->
    <div id="compareSection" class="compare-section" style="display:none;"></div>

    <!-- ‚úÖ Footer -->
    <footer class="app-footer">
      <p>¬© 2025 Pratix Finance ‚Äî Raghav Pratap</p>
    </footer>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>

const langData = {
  en: {
    loanAmount: "Loan Amount",
    interestRate: "Interest Rate (% per annum)",
    tenure: "Loan Tenure (in months)",
    calculate: "Calculate EMI",
    monthlyTable: "Monthly Table",
    compareLoan: "Compare Loan",
    totalPayment: "Total Payment",
    totalInterest: "Total Interest",
    emiPerMonth: "EMI Per Month",
    noData: "No data to show",
  },
  hi: {
    loanAmount: "‡§ã‡§£ ‡§∞‡§æ‡§∂‡§ø",
    interestRate: "‡§¨‡•ç‡§Ø‡§æ‡§ú ‡§¶‡§∞ (% ‡§µ‡§æ‡§∞‡•ç‡§∑‡§ø‡§ï)",
    tenure: "‡§ã‡§£ ‡§Ö‡§µ‡§ß‡§ø (‡§Æ‡§π‡•Ä‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç)",
    calculate: "‡§à‡§è‡§Æ‡§Ü‡§à ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç",
    monthlyTable: "‡§Æ‡§æ‡§∏‡§ø‡§ï ‡§§‡§æ‡§≤‡§ø‡§ï‡§æ",
    compareLoan: "‡§ã‡§£ ‡§ï‡•Ä ‡§§‡•Å‡§≤‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç",
    totalPayment: "‡§ï‡•Å‡§≤ ‡§≠‡•Å‡§ó‡§§‡§æ‡§®",
    totalInterest: "‡§ï‡•Å‡§≤ ‡§¨‡•ç‡§Ø‡§æ‡§ú",
    emiPerMonth: "‡§™‡•ç‡§∞‡§§‡§ø ‡§Æ‡§æ‡§π ‡§à‡§è‡§Æ‡§Ü‡§à",
    noData: "‡§¶‡§ø‡§ñ‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§°‡•á‡§ü‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à",
  },
  bn: {
    loanAmount: "‡¶ã‡¶£‡ßá‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£",
    interestRate: "‡¶∏‡ßÅ‡¶¶‡ßá‡¶∞ ‡¶π‡¶æ‡¶∞ (% ‡¶¨‡¶æ‡¶∞‡ßç‡¶∑‡¶ø‡¶ï)",
    tenure: "‡¶ã‡¶£‡ßá‡¶∞ ‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶ (‡¶Æ‡¶æ‡¶∏‡ßá)",
    calculate: "‡¶á‡¶è‡¶Æ‡¶Ü‡¶á ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨ ‡¶ï‡¶∞‡ßÅ‡¶®",
    monthlyTable: "‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤",
    compareLoan: "‡¶ã‡¶£ ‡¶§‡ßÅ‡¶≤‡¶®‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®",
    totalPayment: "‡¶Æ‡ßã‡¶ü ‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß",
    totalInterest: "‡¶Æ‡ßã‡¶ü ‡¶∏‡ßÅ‡¶¶",
    emiPerMonth: "‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶Æ‡¶æ‡¶∏‡ßá ‡¶á‡¶è‡¶Æ‡¶Ü‡¶á",
    noData: "‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡ßã‡¶®‡ßã ‡¶§‡¶•‡ßç‡¶Ø ‡¶®‡ßá‡¶á",
  },
  fr: {
    loanAmount: "Montant du pr√™t",
    interestRate: "Taux d'int√©r√™t (% par an)",
    tenure: "Dur√©e du pr√™t (en mois)",
    calculate: "Calculer EMI",
    monthlyTable: "Tableau mensuel",
    compareLoan: "Comparer les pr√™ts",
    totalPayment: "Paiement total",
    totalInterest: "Int√©r√™t total",
    emiPerMonth: "EMI mensuel",
    noData: "Aucune donn√©e √† afficher",
  },
  ru: {
    loanAmount: "–°—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞",
    interestRate: "–ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞ (% –≥–æ–¥–æ–≤—ã—Ö)",
    tenure: "–°—Ä–æ–∫ –∫—Ä–µ–¥–∏—Ç–∞ (–≤ –º–µ—Å—è—Ü–∞—Ö)",
    calculate: "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å EMI",
    monthlyTable: "–ï–∂–µ–º–µ—Å—è—á–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞",
    compareLoan: "–°—Ä–∞–≤–Ω–∏—Ç—å –∫—Ä–µ–¥–∏—Ç",
    totalPayment: "–û–±—â–∞—è –≤—ã–ø–ª–∞—Ç–∞",
    totalInterest: "–û–±—â–∏–π –∏–Ω—Ç–µ—Ä–µ—Å",
    emiPerMonth: "EMI –≤ –º–µ—Å—è—Ü",
    noData: "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è",
  },
  de: {
    loanAmount: "Darlehensbetrag",
    interestRate: "Zinssatz (% p.a.)",
    tenure: "Darlehenslaufzeit (in Monaten)",
    calculate: "EMI berechnen",
    monthlyTable: "Monatliche Tabelle",
    compareLoan: "Darlehen vergleichen",
    totalPayment: "Gesamtzahlung",
    totalInterest: "Gesamtzinsen",
    emiPerMonth: "Monatliche EMI",
    noData: "Keine Daten zum Anzeigen",
  },
  es: {
    loanAmount: "Cantidad del pr√©stamo",
    interestRate: "Tasa de inter√©s (% anual)",
    tenure: "Plazo del pr√©stamo (en meses)",
    calculate: "Calcular EMI",
    monthlyTable: "Tabla mensual",
    compareLoan: "Comparar pr√©stamo",
    totalPayment: "Pago total",
    totalInterest: "Inter√©s total",
    emiPerMonth: "EMI mensual",
    noData: "No hay datos para mostrar",
  },
  ko: {
    loanAmount: "ÎåÄÏ∂ú Í∏àÏï°",
    interestRate: "Ïù¥ÏûêÏú® (Ïó∞Í∞Ñ %)",
    tenure: "ÎåÄÏ∂ú Í∏∞Í∞Ñ (Í∞úÏõî)",
    calculate: "EMI Í≥ÑÏÇ∞",
    monthlyTable: "ÏõîÎ≥Ñ ÌÖåÏù¥Î∏î",
    compareLoan: "ÎåÄÏ∂ú ÎπÑÍµê",
    totalPayment: "Ï¥ù ÏßÄÎ∂àÏï°",
    totalInterest: "Ï¥ù Ïù¥Ïûê",
    emiPerMonth: "Ïõî EMI",
    noData: "ÌëúÏãúÌï† Îç∞Ïù¥ÌÑ∞ ÏóÜÏùå",
  },
  ja: {
    loanAmount: "„É≠„Éº„É≥ÈáëÈ°ç",
    interestRate: "ÈáëÂà©ÔºàÂπ¥ÁéáÔºÖÔºâ",
    tenure: "„É≠„Éº„É≥ÊúüÈñìÔºàÊúàÂçò‰ΩçÔºâ",
    calculate: "EMI„ÇíË®àÁÆó",
    monthlyTable: "ÊúàÊ¨°Ë°®",
    compareLoan: "„É≠„Éº„É≥„ÇíÊØîËºÉ",
    totalPayment: "Á∑èÊîØÊâïÈ°ç",
    totalInterest: "Á∑èÂà©ÊÅØ",
    emiPerMonth: "Êúà„ÄÖ„ÅÆEMI",
    noData: "Ë°®Á§∫„Åô„Çã„Éá„Éº„Çø„Åå„ÅÇ„Çä„Åæ„Åõ„Çì",
  }
};

let currentLang = 'en';
const langSelect = document.getElementById('languageSelect');

function updateLanguage(lang) {
  currentLang = lang;
  const text = langData[lang];
  document.getElementById('loanLabel').textContent = text.loanAmount;
  document.getElementById('rateLabel').textContent = text.interestRate;
  document.getElementById('tenureLabel').textContent = text.tenure;
  document.getElementById('calcBtn').textContent = text.calculate;
  document.getElementById('tableBtn').textContent = text.monthlyTable;
  document.getElementById('compareBtn').textContent = text.compareLoan;
}

langSelect.addEventListener('change', () => {
  updateLanguage(langSelect.value);
});

function autoDetectLanguage() {
  const userLang = navigator.language || navigator.userLanguage;
  const shortLang = userLang.split('-')[0];
  if (langData[shortLang]) {
    langSelect.value = shortLang;
    updateLanguage(shortLang);
  }
}
autoDetectLanguage();

function calculateEMI(P, R, N) {
  let r = R / 1200;
  let emi = P * r * Math.pow(1 + r, N) / (Math.pow(1 + r, N) - 1);
  return parseFloat(emi.toFixed(2));
}

function updateCharts(emi, totalPayment, totalInterest) {
  const ctx1 = document.getElementById('barChart').getContext('2d');
  const ctx2 = document.getElementById('pieChart').getContext('2d');
  const ctx3 = document.getElementById('lineChart').getContext('2d');
  if (window.bar) window.bar.destroy();
  if (window.pie) window.pie.destroy();
  if (window.line) window.line.destroy();

  window.bar = new Chart(ctx1, {
    type: 'bar',
    data: {
      labels: ['Total Interest', 'Total Payment'],
      datasets: [{
        label: '‚Çπ',
        data: [totalInterest, totalPayment],
        backgroundColor: ['#ff7f50', '#58a6ff'],
        borderRadius: 5
      }]
    }
  });

  window.pie = new Chart(ctx2, {
    type: 'pie',
    data: {
      labels: ['Principal', 'Interest'],
      datasets: [{
        data: [totalPayment - totalInterest, totalInterest],
        backgroundColor: ['#238636', '#f85149']
      }]
    }
  });

  let payments = [];
  for (let i = 1; i <= 12; i++) payments.push(emi);
  window.line = new Chart(ctx3, {
    type: 'line',
    data: {
      labels: Array.from({ length: 12 }, (_, i) => `Month ${i + 1}`),
      datasets: [{
        label: 'EMI',
        data: payments,
        borderColor: '#58a6ff',
        fill: false
      }]
    }
  });
}

document.getElementById('calcBtn').addEventListener('click', () => {
  let p = +document.getElementById('loanInput').value;
  let r = +document.getElementById('rateInput').value;
  let n = +document.getElementById('tenureInput').value;

  if (!p || !r || !n) return alert("Please fill all fields");

  let emi = calculateEMI(p, r, n);
  let total = parseFloat((emi * n).toFixed(2));
  let interest = parseFloat((total - p).toFixed(2));

  document.getElementById('emiText').textContent = `${langData[currentLang].emiPerMonth}: ‚Çπ${emi}`;
  document.getElementById('interestText').textContent = `${langData[currentLang].totalInterest}: ‚Çπ${interest}`;
  document.getElementById('paymentText').textContent = `${langData[currentLang].totalPayment}: ‚Çπ${total}`;
  document.getElementById('resultSummary').style.display = 'block';

  updateCharts(emi, total, interest);
});

document.getElementById('barBtn').addEventListener('click', () => {
  document.getElementById('barChart').style.display = 'block';
  document.getElementById('pieChart').style.display = 'none';
  document.getElementById('lineChart').style.display = 'none';
});
document.getElementById('pieBtn').addEventListener('click', () => {
  document.getElementById('barChart').style.display = 'none';
  document.getElementById('pieChart').style.display = 'block';
  document.getElementById('lineChart').style.display = 'none';
});
document.getElementById('lineBtn').addEventListener('click', () => {
  document.getElementById('barChart').style.display = 'none';
  document.getElementById('pieChart').style.display = 'none';
  document.getElementById('lineChart').style.display = 'block';
});

// Monthly Table and Compare Loan placeholders
document.getElementById('tableBtn').addEventListener('click', () => {
  alert("Monthly table feature will be fully added next.");
});
document.getElementById('compareBtn').addEventListener('click', () => {
  alert("Compare loan feature will be fully added next.");
});


  </script>
</body>
</html>
