
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Advanced EMI Calculator | Pratix Finance</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
  * {
  box-sizing: border-box;
}
body {
  margin: 0;
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(135deg, #3f0d65, #5b21b6);
  color: #ffffff;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 1rem;
}
.container {
  width: 100%;
  max-width: 500px;
  background: rgba(17, 17, 17, 0.75);
  border-radius: 20px;
  backdrop-filter: blur(10px);
  padding: 2rem;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
}
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}
.header h2 {
  margin: 0;
  font-weight: 600;
  font-size: 1.5rem;
}
.input-group {
  margin-bottom: 1rem;
}
.input-group label {
  font-weight: 500;
  margin-bottom: 5px;
  display: block;
}
.input-group input, .input-group select {
  width: 100%;
  padding: 12px;
  border-radius: 12px;
  border: none;
  font-size: 1rem;
  background: rgba(255, 255, 255, 0.1);
  color: #fff;
}
.input-group input::placeholder {
  color: #ccc;
}
.buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  margin: 1.5rem 0;
}
button {
  flex: 1;
  background: linear-gradient(135deg, #6366f1, #8b5cf6);
  border: none;
  border-radius: 12px;
  padding: 12px;
  font-size: 1rem;
  color: white;
  cursor: pointer;
  transition: background 0.3s ease;
}
button:hover {
  background: linear-gradient(135deg, #4f46e5, #7c3aed);
}
.summary {
  background: rgba(255,255,255,0.05);
  border-radius: 16px;
  padding: 1rem;
  margin-top: 1.5rem;
}
.summary p {
  margin: 8px 0;
}
.toggle-row {
  display: flex;
  align-items: center;
  margin: 1rem 0;
}
canvas {
  margin-top: 1rem;
  width: 100% !important;
  height: auto !important;
}
.language-row {
  display: flex;
  align-items: center;
  margin-top: 1rem;
}
.language-row select {
  margin-left: 10px;
  background: rgba(255, 255, 255, 0.1);
  color: white;
  border: none;
  padding: 10px;
  border-radius: 12px;
}
footer {
  text-align: center;
  margin-top: 2rem;
  font-size: 0.85rem;
  opacity: 0.6;
}
@media screen and (max-width: 600px) {
  .container {
    padding: 1.2rem;
  }
  .header h2 {
    font-size: 1.25rem;
  }
  button {
    font-size: 0.95rem;
    padding: 10px;
  }
}

  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h2 id="titleText">Advanced EMI Calculator</h2>
      <div class="top-actions">
        <select id="languageSelector" onchange="changeLanguage(this.value)">
          <option value="en">üåê English</option>
          <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
          <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
          <option value="fr">Fran√ßais</option>
          <option value="ru">–†—É—Å—Å–∫–∏–π</option>
          <option value="de">Deutsch</option>
          <option value="ja">Êó•Êú¨Ë™û</option>
          <option value="ko">ÌïúÍµ≠Ïñ¥</option>
          <option value="es">Espa√±ol</option>
        </select>
        <button onclick="installPWA()" title="Install App"><i class="fas fa-download"></i></button>
      </div>
    </div>

    <div class="input-group">
      <label for="loanAmount" id="loanAmountLabel">Loan Amount</label>
      <input type="number" id="loanAmount" placeholder="Enter loan amount" />
    </div>

    <div class="input-group">
      <label for="interestRate" id="interestRateLabel">Interest Rate (%)</label>
      <input type="number" id="interestRate" placeholder="e.g. 8.5" />
    </div>

    <div class="input-group">
      <label for="loanTerm" id="loanTermLabel">Loan Term (Years)</label>
      <input type="number" id="loanTerm" placeholder="e.g. 10" />
    </div>

    <div class="input-group">
      <label id="prepayFreqLabel">Prepayment Frequency</label>
      <select id="prepayFreq">
        <option value="none">None</option>
        <option value="once">Once</option>
        <option value="yearly">Yearly</option>
      </select>
    </div>

    <div class="input-group">
      <label for="extraPayment" id="extraPaymentLabel">Extra Payment (‚Çπ)</label>
      <input type="number" id="extraPayment" placeholder="Optional prepayment" />
    </div>

    <div class="input-group">
      <label for="startYear" id="startYearLabel">Start From Year</label>
      <select id="startYear">
        <option value="1">Year 1</option>
        <option value="2" selected>Year 2</option>
        <option value="3">Year 3</option>
        <option value="4">Year 4</option>
      </select>
    </div>

    <div class="buttons">
      <button onclick="calculateEMI()" id="calcBtn">Calculate</button>
      <button onclick="showSchedule()" id="scheduleBtn">Monthly Table</button>
      <button onclick="showComparison()" id="compareBtn">Compare Loans</button>
    </div>

    <div class="summary">
      <p><strong id="emiText">EMI:</strong> ‚Çπ<span id="emi">0</span>/month</p>
      <p><strong id="interestText">Total Interest:</strong> ‚Çπ<span id="interest">0</span></p>
      <p><strong id="paymentText">Total Payment:</strong> ‚Çπ<span id="payment">0</span></p>
      <button onclick="sendReminder()" id="reminderBtn">üì© Send Reminder</button>
    </div>

    <div class="chart-toggle">
      <label><input type="radio" name="chartType" value="pie" checked onchange="toggleChart()"> Pie Chart</label>
      <label><input type="radio" name="chartType" value="line" onchange="toggleChart()"> Line Chart</label>
      <label><input type="radio" name="chartType" value="bar" onchange="toggleChart()"> Bar Chart</label>
    </div>
    
    <canvas id="emiChart" height="200"></canvas>

    <div class="bottom-options">
      <button onclick="downloadPDF()">üìÑ PDF</button>
      <button onclick="saveSession()">üíæ Save</button>
      <button onclick="loadSession()">üìÇ Load</button>
      <button onclick="shareEMI()">üîó Share</button>
      <button onclick="toggleFAQ()">‚ùì Help</button>
    </div>

    <div class="faq-box" id="faqBox" style="display: none;">
      <p><strong>Tip:</strong> Prepayment can save interest if done early!</p>
    </div>
  </div>

  <footer>
    ¬© 2025 Pratix Finance ‚Äî All rights reserved
  </footer>

  <script>
  let chart;

  const translations = {
    en: { title: "Advanced EMI Calculator", loanAmount: "Loan Amount", interestRate: "Interest Rate (%)", loanTerm: "Loan Term (years)", prepayFreq: "Prepayment Frequency", extraPayment: "Extra Payment (‚Çπ)", startFrom: "Start From Year", calculate: "Calculate", table: "Monthly Table", compare: "Compare Loans", emi: "EMI", totalInterest: "Total Interest", totalPayment: "Total Payment", reminder: "üì© Send Reminder", bar: "Show Bar Chart", pie: "Show Pie Chart", footer: "¬© 2025 Pratix Finance ‚Äî All rights reserved" },
    hi: { title: "‡§â‡§®‡•ç‡§®‡§§ EMI ‡§ï‡•à‡§≤‡§ï‡•Å‡§≤‡•á‡§ü‡§∞", loanAmount: "‡§ã‡§£ ‡§∞‡§æ‡§∂‡§ø", interestRate: "‡§¨‡•ç‡§Ø‡§æ‡§ú ‡§¶‡§∞ (%)", loanTerm: "‡§ã‡§£ ‡§Ö‡§µ‡§ß‡§ø (‡§µ‡§∞‡•ç‡§∑‡•ã‡§Ç ‡§Æ‡•á‡§Ç)", prepayFreq: "‡§™‡•Ç‡§∞‡•ç‡§µ ‡§≠‡•Å‡§ó‡§§‡§æ‡§® ‡§Ü‡§µ‡•É‡§§‡•ç‡§§‡§ø", extraPayment: "‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‡§≠‡•Å‡§ó‡§§‡§æ‡§® (‚Çπ)", startFrom: "‡§ï‡§¨ ‡§∏‡•á ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç", calculate: "‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç", table: "‡§Æ‡§æ‡§∏‡§ø‡§ï ‡§§‡§æ‡§≤‡§ø‡§ï‡§æ", compare: "‡§ã‡§£ ‡§§‡•Å‡§≤‡§®‡§æ", emi: "EMI", totalInterest: "‡§ï‡•Å‡§≤ ‡§¨‡•ç‡§Ø‡§æ‡§ú", totalPayment: "‡§ï‡•Å‡§≤ ‡§≠‡•Å‡§ó‡§§‡§æ‡§®", reminder: "üì© ‡§Ö‡§®‡•Å‡§∏‡•ç‡§Æ‡§æ‡§∞‡§ï ‡§≠‡•á‡§ú‡•á‡§Ç", bar: "‡§¨‡§æ‡§∞ ‡§ö‡§æ‡§∞‡•ç‡§ü ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç", pie: "‡§™‡§æ‡§à ‡§ö‡§æ‡§∞‡•ç‡§ü ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç", footer: "¬© 2025 ‡§™‡•ç‡§∞‡§æ‡§ü‡§ø‡§ï‡•ç‡§∏ ‡§´‡§æ‡§á‡§®‡•á‡§Ç‡§∏ ‚Äî ‡§∏‡§∞‡•ç‡§µ‡§æ‡§ß‡§ø‡§ï‡§æ‡§∞ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§" },
    bn: { title: "‡¶â‡¶®‡ßç‡¶®‡¶§ EMI ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶ï‡ßÅ‡¶≤‡ßá‡¶ü‡¶∞", loanAmount: "‡¶ã‡¶£‡ßá‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£", interestRate: "‡¶∏‡ßÅ‡¶¶‡ßá‡¶∞ ‡¶π‡¶æ‡¶∞ (%)", loanTerm: "‡¶ã‡¶£‡ßá‡¶∞ ‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶ (‡¶¨‡¶õ‡¶∞)", prepayFreq: "‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶´‡ßç‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶∏‡¶ø", extraPayment: "‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶Ö‡¶∞‡ßç‡¶•‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶® (‚Çπ)", startFrom: "‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶¨‡¶õ‡¶∞", calculate: "‡¶ó‡¶£‡¶®‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®", table: "‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤", compare: "‡¶ã‡¶£ ‡¶§‡ßÅ‡¶≤‡¶®‡¶æ", emi: "EMI", totalInterest: "‡¶Æ‡ßã‡¶ü ‡¶∏‡ßÅ‡¶¶", totalPayment: "‡¶Æ‡ßã‡¶ü ‡¶Ö‡¶∞‡ßç‡¶•‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶®", reminder: "üì© ‡¶∞‡¶ø‡¶Æ‡¶æ‡¶á‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶™‡¶æ‡¶†‡¶æ‡¶®", bar: "‡¶¨‡¶æ‡¶∞ ‡¶ö‡¶æ‡¶∞‡ßç‡¶ü ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®", pie: "‡¶™‡¶æ‡¶á ‡¶ö‡¶æ‡¶∞‡ßç‡¶ü ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®", footer: "¬© 2025 ‡¶™‡ßç‡¶∞‡¶æ‡¶ü‡¶ø‡¶ï‡ßç‡¶∏ ‡¶´‡¶æ‡¶á‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏ ‚Äî ‡¶∏‡¶∞‡ßç‡¶¨‡¶∏‡ßç‡¶¨‡¶§‡ßç‡¶¨ ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§" },
    fr: { title: "Calculateur EMI Avanc√©", loanAmount: "Montant du pr√™t", interestRate: "Taux d'int√©r√™t (%)", loanTerm: "Dur√©e du pr√™t (ann√©es)", prepayFreq: "Fr√©quence de pr√©paiement", extraPayment: "Paiement suppl√©mentaire (‚Çπ)", startFrom: "√Ä partir de l'ann√©e", calculate: "Calculer", table: "Tableau Mensuel", compare: "Comparer les pr√™ts", emi: "EMI", totalInterest: "Int√©r√™t Total", totalPayment: "Paiement Total", reminder: "üì© Envoyer un rappel", bar: "Afficher le graphique en barres", pie: "Afficher le graphique circulaire", footer: "¬© 2025 Pratix Finance ‚Äî Tous droits r√©serv√©s" },
    de: { title: "Erweiterter EMI-Rechner", loanAmount: "Darlehensbetrag", interestRate: "Zinssatz (%)", loanTerm: "Darlehenslaufzeit (Jahre)", prepayFreq: "Vorauszahlungsfrequenz", extraPayment: "Zus√§tzliche Zahlung (‚Çπ)", startFrom: "Ab Jahr", calculate: "Berechnen", table: "Monatstabelle", compare: "Darlehen vergleichen", emi: "EMI", totalInterest: "Gesamtzins", totalPayment: "Gesamtzahlung", reminder: "üì© Erinnerung senden", bar: "Balkendiagramm anzeigen", pie: "Kreisdiagramm anzeigen", footer: "¬© 2025 Pratix Finance ‚Äî Alle Rechte vorbehalten" },
    ru: { title: "–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π EMI –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä", loanAmount: "–°—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞", interestRate: "–ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞ (%)", loanTerm: "–°—Ä–æ–∫ –∫—Ä–µ–¥–∏—Ç–∞ (–ª–µ—Ç)", prepayFreq: "–ß–∞—Å—Ç–æ—Ç–∞ –¥–æ—Å—Ä–æ—á–Ω–æ–π –≤—ã–ø–ª–∞—Ç—ã", extraPayment: "–î–æ–ø. –ø–ª–∞—Ç–µ–∂ (‚Çπ)", startFrom: "–ù–∞—á–∞—Ç—å —Å –≥–æ–¥–∞", calculate: "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å", table: "–ï–∂–µ–º–µ—Å—è—á–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞", compare: "–°—Ä–∞–≤–Ω–∏—Ç—å –∫—Ä–µ–¥–∏—Ç—ã", emi: "EMI", totalInterest: "–û–±—â–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç", totalPayment: "–û–±—â–∞—è —Å—É–º–º–∞", reminder: "üì© –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ", bar: "–ü–æ–∫–∞–∑–∞—Ç—å –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—É", pie: "–ü–æ–∫–∞–∑–∞—Ç—å –∫—Ä—É–≥–æ–≤—É—é –¥–∏–∞–≥—Ä–∞–º–º—É", footer: "¬© 2025 Pratix Finance ‚Äî –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã" },
    ja: { title: "È´òÂ∫¶„Å™EMIË®àÁÆóÊ©ü", loanAmount: "„É≠„Éº„É≥ÈáëÈ°ç", interestRate: "ÈáëÂà© (%)", loanTerm: "„É≠„Éº„É≥ÊúüÈñì (Âπ¥)", prepayFreq: "Áπ∞‰∏äËøîÊ∏àÈ†ªÂ∫¶", extraPayment: "ËøΩÂä†ÊîØÊâïÈ°ç (‚Çπ)", startFrom: "ÈñãÂßãÂπ¥", calculate: "Ë®àÁÆó", table: "ÊúàÊ¨°Ë°®", compare: "„É≠„Éº„É≥ÊØîËºÉ", emi: "EMI", totalInterest: "Á∑èÂà©ÊÅØ", totalPayment: "Á∑èÊîØÊâïÈ°ç", reminder: "üì© „É™„Éû„Ç§„É≥„ÉÄ„Éº„ÇíÈÄÅ‰ø°", bar: "Ê£í„Ç∞„É©„Éï„ÇíË°®Á§∫", pie: "ÂÜÜ„Ç∞„É©„Éï„ÇíË°®Á§∫", footer: "¬© 2025 „Éó„É©„ÉÜ„Ç£„ÇØ„Çπ„Éï„Ç°„Ç§„Éä„É≥„Çπ ‚Äî ÁÑ°Êñ≠Ëª¢Ëºâ„ÇíÁ¶Å„Åò„Åæ„Åô" },
    ko: { title: "Í≥†Í∏â EMI Í≥ÑÏÇ∞Í∏∞", loanAmount: "ÎåÄÏ∂ú Í∏àÏï°", interestRate: "Ïù¥ÏûêÏú® (%)", loanTerm: "ÎåÄÏ∂ú Í∏∞Í∞Ñ (ÎÖÑ)", prepayFreq: "ÏÑ†Î∂à ÎπàÎèÑ", extraPayment: "Ï∂îÍ∞Ä ÏßÄÎ∂à (‚Çπ)", startFrom: "ÏãúÏûë Ïó∞ÎèÑ", calculate: "Í≥ÑÏÇ∞", table: "ÏõîÎ≥Ñ Ìëú", compare: "ÎåÄÏ∂ú ÎπÑÍµê", emi: "EMI", totalInterest: "Ï¥ù Ïù¥Ïûê", totalPayment: "Ï¥ù ÏßÄÎ∂à", reminder: "üì© ÏïåÎ¶º Î≥¥ÎÇ¥Í∏∞", bar: "ÎßâÎåÄ Ï∞®Ìä∏ Î≥¥Í∏∞", pie: "ÏõêÌòï Ï∞®Ìä∏ Î≥¥Í∏∞", footer: "¬© 2025 ÌîÑÎùºÌã±Ïä§ ÌååÏù¥ÎÇ∏Ïä§ ‚Äî Î™®Îì† Í∂åÎ¶¨ Î≥¥Ïú†" }
  };

  function calculateEMI() {
    const P = +document.getElementById('loanAmount').value;
    const R = +document.getElementById('interestRate').value / 1200;
    const N = +document.getElementById('loanTerm').value * 12;
    const prepay = +document.getElementById('extraPayment').value;
    const freq = document.getElementById('prepayFreq').value;

    let emi = (P * R * Math.pow(1 + R, N)) / (Math.pow(1 + R, N) - 1);
    let totalPayment = emi * N;
    let totalInterest = totalPayment - P;

    if (freq === 'once') {
      totalPayment -= prepay;
      totalInterest -= prepay;
    }

    document.getElementById('emi').innerText = emi.toFixed(0);
    document.getElementById('interest').innerText = totalInterest.toFixed(0);
    document.getElementById('payment').innerText = totalPayment.toFixed(0);

    updateChart(P, totalInterest, prepay);
  }

  function updateChart(principal, interest, prepay) {
    const ctx = document.getElementById('emiChart').getContext('2d');
    if (chart) chart.destroy();

    const type = document.querySelector('input[name="chartType"]:checked').value;

    chart = new Chart(ctx, {
      type: type === 'bar' ? 'bar' : 'doughnut',
      data: {
        labels: ['Principal', 'Interest', 'Prepayment'],
        datasets: [{
          data: [principal, interest, prepay],
          backgroundColor: ['#3b82f6', '#8b5cf6', '#10b981'],
          hoverOffset: 16
        }]
      },
      options: {
        cutout: type === 'bar' ? undefined : '65%',
        plugins: {
          tooltip: {
            callbacks: {
              label: (item) => `‚Çπ${item.raw}`
            }
          }
        }
      }
    });
  }

  function changeLanguage(lang) {
    const t = translations[lang];
    if (!t) return;
    document.querySelector('h2').innerText = t.title;
    document.querySelectorAll('label')[0].innerText = t.loanAmount;
    document.querySelectorAll('label')[1].innerText = t.interestRate;
    document.querySelectorAll('label')[2].innerText = t.loanTerm;
    document.querySelectorAll('label')[3].innerText = t.prepayFreq;
    document.querySelectorAll('label')[4].innerText = t.extraPayment;
    document.querySelectorAll('label')[5].innerText = t.startFrom;
    document.querySelectorAll('label[for="bar"]').innerText = t.bar;
    document.querySelectorAll('label[for="pie"]').innerText = t.pie;
    document.querySelectorAll('.buttons button')[0].innerText = t.calculate;
    document.querySelectorAll('.buttons button')[1].innerText = t.table;
    document.querySelectorAll('.buttons button')[2].innerText = t.compare;
    document.querySelector('.summary button').innerText = t.reminder;
    document.querySelector('footer').innerText = t.footer;
  }

  function detectBrowserLanguage() {
    const lang = navigator.language.slice(0, 2);
    const supported = Object.keys(translations);
    const finalLang = supported.includes(lang) ? lang : 'en';
    document.getElementById('lang').value = finalLang;
    changeLanguage(finalLang);
  }

  function sendReminder() {
    alert("Reminder feature coming soon!");
  }

  function installPWA() {
    alert("PWA install logic goes here.");
  }

  window.onload = () => {
    detectBrowserLanguage();
    calculateEMI();
  };
  </script>
</body>
</html>