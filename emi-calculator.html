<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Advanced EMI Calculator | Pratix Finance</title>
  <link rel="manifest" href="manifest.json" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #3f0d65, #5b21b6);
      color: #ffffff;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 1rem;
    }
    .container {
      width: 100%;
      max-width: 500px;
      background: rgba(17, 17, 17, 0.75);
      border-radius: 20px;
      backdrop-filter: blur(10px);
      padding: 2rem;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
    }
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }
    .header h2 {
      margin: 0;
      font-weight: 600;
      font-size: 1.5rem;
    }
    .lang-select {
      background: rgba(255, 255, 255, 0.1);
      border: none;
      color: white;
      border-radius: 10px;
      padding: 6px;
    }
    .input-group {
      margin-bottom: 1rem;
    }
    .input-group label {
      font-weight: 500;
      margin-bottom: 5px;
      display: block;
    }
    .input-group input,
    .input-group select {
      width: 100%;
      padding: 12px;
      border-radius: 12px;
      border: none;
      font-size: 1rem;
      background: rgba(255, 255, 255, 0.1);
      color: #fff;
    }
    .input-group input::placeholder {
      color: #ccc;
    }
    .buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin: 1.5rem 0;
    }
    button {
      flex: 1;
      background: #6366f1;
      border: none;
      border-radius: 12px;
      padding: 12px;
      font-size: 1rem;
      color: white;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    button:hover {
      background: #4f46e5;
    }
    .summary {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      padding: 1rem;
      margin-top: 1.5rem;
    }
    .summary p {
      margin: 8px 0;
    }
    .toggle-row {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin: 1rem 0;
    }
    canvas {
      margin-top: 1rem;
      width: 100% !important;
      height: auto !important;
    }
    footer {
      text-align: center;
      margin-top: 2rem;
      font-size: 0.85rem;
      opacity: 0.6;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h2 id="title">Advanced EMI Calculator</h2>
      <select class="lang-select" id="languageSelector" onchange="changeLanguage(this.value)">
        <option value="en">ğŸ‡¬ğŸ‡§ English</option>
        <option value="hi">ğŸ‡®ğŸ‡³ Hindi</option>
        <option value="bn">ğŸ‡§ğŸ‡© Bengali</option>
        <option value="fr">ğŸ‡«ğŸ‡· French</option>
        <option value="ru">ğŸ‡·ğŸ‡º Russian</option>
        <option value="de">ğŸ‡©ğŸ‡ª German</option>
        <option value="es">ğŸ‡ªğŸ‡¸ Spanish</option>
        <option value="ko">ğŸ‡°ğŸ‡· Korean</option>
        <option value="ja">ğŸ‡¯ğŸ‡µ Japanese</option>
      </select>
    </div>

    <div class="input-group">
      <label id="label-loan">Loan Amount</label>
      <input type="number" id="loanAmount" placeholder="Enter amount" />
    </div>
    <div class="input-group">
      <label id="label-rate">Interest Rate (%)</label>
      <input type="number" id="interestRate" placeholder="e.g. 8.5" />
    </div>
    <div class="input-group">
      <label id="label-term">Loan Term (years)</label>
      <input type="number" id="loanTerm" placeholder="e.g. 10" />
    </div>
    <div class="input-group">
      <label id="label-freq">Prepayment Frequency</label>
      <select id="prepayFreq">
        <option value="once">Once</option>
        <option value="yearly">Yearly</option>
      </select>
    </div>
    <div class="input-group">
      <label id="label-extra">Extra Payment (â‚¹)</label>
      <input type="number" id="extraPayment" placeholder="e.g. 50000" />
    </div>
    <div class="input-group">
      <label id="label-start">Start From Year</label>
      <select id="startYear">
        <option value="1">Year 1</option>
        <option value="2">Year 2</option>
        <option value="3">Year 3</option>
        <option value="4">Year 4</option>
      </select>
    </div>

    <div class="buttons">
      <button onclick="calculateEMI()" id="btn-calculate">Calculate</button>
      <button onclick="showMonthlySchedule()" id="btn-monthly">Monthly Table</button>
      <button onclick="showCompareView()" id="btn-compare">Compare Loans</button>
    </div>

    <div class="summary">
      <p><strong id="label-emi">EMI:</strong> â‚¹<span id="emi">0</span>/month</p>
      <p><strong id="label-interest">Total Interest:</strong> â‚¹<span id="interest">0</span></p>
      <p><strong id="label-payment">Total Payment:</strong> â‚¹<span id="payment">0</span></p>
      <button onclick="sendReminder()" id="btn-reminder">ğŸ“© Send Reminder</button>
    </div>

    <div class="toggle-row">
      <div>
        <input type="radio" name="chartType" id="barChart" value="bar" checked onchange="toggleChartType()">
        <label for="barChart" id="label-bar">Bar Chart</label>
      </div>
      <div>
        <input type="radio" name="chartType" id="pieChart" value="doughnut" onchange="toggleChartType()">
        <label for="pieChart" id="label-pie">Pie Chart</label>
      </div>
      <div>
        <input type="radio" name="chartType" id="lineChart" value="line" onchange="toggleChartType()">
        <label for="lineChart" id="label-line">Line Chart</label>
      </div>
    </div>

    <canvas id="emiChart" height="200"></canvas>
  </div>

  <footer>
    Â© 2025 Pratix Finance â€” All rights reserved
  </footer>
<script>
const translations = {
  en: {
    title: "Advanced EMI Calculator",
    "label-loan": "Loan Amount",
    "label-rate": "Interest Rate (%)",
    "label-term": "Loan Term (years)",
    "label-freq": "Prepayment Frequency",
    "label-extra": "Extra Payment (â‚¹)",
    "label-start": "Start From Year",
    "btn-calculate": "Calculate",
    "btn-monthly": "Monthly Table",
    "btn-compare": "Compare Loans",
    "label-emi": "EMI:",
    "label-interest": "Total Interest:",
    "label-payment": "Total Payment:",
    "btn-reminder": "ğŸ“© Send Reminder",
    "label-bar": "Bar Chart",
    "label-pie": "Pie Chart",
    "label-line": "Line Chart"
  },
  hi: {
    title: "à¤‰à¤¨à¥à¤¨à¤¤ EMI à¤•à¥ˆà¤²à¤•à¥à¤²à¥‡à¤Ÿà¤°",
    "label-loan": "à¤‹à¤£ à¤°à¤¾à¤¶à¤¿",
    "label-rate": "à¤¬à¥à¤¯à¤¾à¤œ à¤¦à¤° (%)",
    "label-term": "à¤‹à¤£ à¤…à¤µà¤§à¤¿ (à¤µà¤°à¥à¤·à¥‹à¤‚ à¤®à¥‡à¤‚)",
    "label-freq": "à¤ªà¥‚à¤°à¥à¤µà¤­à¥à¤—à¤¤à¤¾à¤¨ à¤†à¤µà¥ƒà¤¤à¥à¤¤à¤¿",
    "label-extra": "à¤…à¤¤à¤¿à¤°à¤¿à¤•à¥à¤¤ à¤­à¥à¤—à¤¤à¤¾à¤¨ (â‚¹)",
    "label-start": "à¤¶à¥à¤°à¥à¤†à¤¤ à¤•à¤¾ à¤µà¤°à¥à¤·",
    "btn-calculate": "à¤—à¤£à¤¨à¤¾ à¤•à¤°à¥‡à¤‚",
    "btn-monthly": "à¤®à¤¾à¤¸à¤¿à¤• à¤¤à¤¾à¤²à¤¿à¤•à¤¾",
    "btn-compare": "à¤‹à¤£ à¤¤à¥à¤²à¤¨à¤¾",
    "label-emi": "EMI:",
    "label-interest": "à¤•à¥à¤² à¤¬à¥à¤¯à¤¾à¤œ:",
    "label-payment": "à¤•à¥à¤² à¤­à¥à¤—à¤¤à¤¾à¤¨:",
    "btn-reminder": "ğŸ“© à¤…à¤¨à¥à¤¸à¥à¤®à¤¾à¤°à¤• à¤­à¥‡à¤œà¥‡à¤‚",
    "label-bar": "à¤¬à¤¾à¤° à¤šà¤¾à¤°à¥à¤Ÿ",
    "label-pie": "à¤ªà¤¾à¤ˆ à¤šà¤¾à¤°à¥à¤Ÿ",
    "label-line": "à¤²à¤¾à¤‡à¤¨ à¤šà¤¾à¤°à¥à¤Ÿ"
  },
  bn: {
    title: "à¦‰à¦¨à§à¦¨à¦¤ EMI à¦•à§à¦¯à¦¾à¦²à¦•à§à¦²à§‡à¦Ÿà¦°",
    "label-loan": "à¦‹à¦£à§‡à¦° à¦ªà¦°à¦¿à¦®à¦¾à¦£",
    "label-rate": "à¦¸à§à¦¦à§‡à¦° à¦¹à¦¾à¦° (%)",
    "label-term": "à¦‹à¦£à§‡à¦° à¦®à§‡à¦¯à¦¼à¦¾à¦¦ (à¦¬à¦›à¦°)",
    "label-freq": "à¦ªà§à¦°à¦¿à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ à¦«à§à¦°à¦¿à¦•à§‹à¦¯à¦¼à§‡à¦¨à§à¦¸à¦¿",
    "label-extra": "à¦…à¦¤à¦¿à¦°à¦¿à¦•à§à¦¤ à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ (â‚¹)",
    "label-start": "à¦•à§‹à¦¨ à¦¬à¦›à¦° à¦¥à§‡à¦•à§‡ à¦¶à§à¦°à§",
    "btn-calculate": "à¦¹à¦¿à¦¸à¦¾à¦¬ à¦•à¦°à§à¦¨",
    "btn-monthly": "à¦®à¦¾à¦¸à¦¿à¦• à¦Ÿà§‡à¦¬à¦¿à¦²",
    "btn-compare": "à¦‹à¦£ à¦¤à§à¦²à¦¨à¦¾",
    "label-emi": "EMI:",
    "label-interest": "à¦®à§‹à¦Ÿ à¦¸à§à¦¦:",
    "label-payment": "à¦®à§‹à¦Ÿ à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ:",
    "btn-reminder": "ğŸ“© à¦…à¦¨à§à¦¸à§à¦®à¦¾à¦°à¦• à¦ªà¦¾à¦ à¦¾à¦¨",
    "label-bar": "à¦¬à¦¾à¦° à¦šà¦¾à¦°à§à¦Ÿ",
    "label-pie": "à¦ªà¦¾à¦‡ à¦šà¦¾à¦°à§à¦Ÿ",
    "label-line": "à¦²à¦¾à¦‡à¦¨ à¦šà¦¾à¦°à§à¦Ÿ"
  },
  fr: {
    title: "Calculateur EMI AvancÃ©",
    "label-loan": "Montant du prÃªt",
    "label-rate": "Taux d'intÃ©rÃªt (%)",
    "label-term": "DurÃ©e du prÃªt (annÃ©es)",
    "label-freq": "FrÃ©quence de paiement",
    "label-extra": "Paiement supplÃ©mentaire (â‚¬)",
    "label-start": "Commencer Ã  partir de l'annÃ©e",
    "btn-calculate": "Calculer",
    "btn-monthly": "Tableau mensuel",
    "btn-compare": "Comparer les prÃªts",
    "label-emi": "EMI:",
    "label-interest": "IntÃ©rÃªt total:",
    "label-payment": "Paiement total:",
    "btn-reminder": "ğŸ“© Envoyer un rappel",
    "label-bar": "Graphique Ã  barres",
    "label-pie": "Camembert",
    "label-line": "Graphique en ligne"
  },
  ru: {
    title: "Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ½Ñ‹Ğ¹ EMI ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€",
    "label-loan": "Ğ¡ÑƒĞ¼Ğ¼Ğ° ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ°",
    "label-rate": "ĞŸÑ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ½Ğ°Ñ ÑÑ‚Ğ°Ğ²ĞºĞ° (%)",
    "label-term": "Ğ¡Ñ€Ğ¾Ğº ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ° (Ğ»ĞµÑ‚)",
    "label-freq": "Ğ§Ğ°ÑÑ‚Ğ¾Ñ‚Ğ° Ğ´Ğ¾ÑÑ€Ğ¾Ñ‡Ğ½Ğ¾Ğ¹ Ğ²Ñ‹Ğ¿Ğ»Ğ°Ñ‚Ñ‹",
    "label-extra": "Ğ”Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ğ° (â‚½)",
    "label-start": "ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ Ñ Ğ³Ğ¾Ğ´Ğ°",
    "btn-calculate": "Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ",
    "btn-monthly": "Ğ•Ğ¶ĞµĞ¼ĞµÑÑÑ‡Ğ½Ğ°Ñ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ°",
    "btn-compare": "Ğ¡Ñ€Ğ°Ğ²Ğ½Ğ¸Ñ‚ÑŒ ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ñ‹",
    "label-emi": "EMI:",
    "label-interest": "ĞĞ±Ñ‰Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ñ‹:",
    "label-payment": "ĞĞ±Ñ‰Ğ°Ñ Ğ²Ñ‹Ğ¿Ğ»Ğ°Ñ‚Ğ°:",
    "btn-reminder": "ğŸ“© ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ğµ",
    "label-bar": "Ğ¡Ñ‚Ğ¾Ğ»Ğ±Ñ‡Ğ°Ñ‚Ğ°Ñ Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ°",
    "label-pie": "ĞšÑ€ÑƒĞ³Ğ¾Ğ²Ğ°Ñ Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ°",
    "label-line": "Ğ›Ğ¸Ğ½ĞµĞ¹Ğ½Ğ°Ñ Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ°"
  },
  de: {
    title: "Erweiterter EMI-Rechner",
    "label-loan": "Darlehensbetrag",
    "label-rate": "Zinssatz (%)",
    "label-term": "Darlehenslaufzeit (Jahre)",
    "label-freq": "Sonderzahlungsfrequenz",
    "label-extra": "Zusatzzahlung (â‚¬)",
    "label-start": "Ab welchem Jahr",
    "btn-calculate": "Berechnen",
    "btn-monthly": "Monatliche Tabelle",
    "btn-compare": "Darlehen vergleichen",
    "label-emi": "EMI:",
    "label-interest": "Gesamtzinsen:",
    "label-payment": "Gesamtzahlung:",
    "btn-reminder": "ğŸ“© Erinnerung senden",
    "label-bar": "Balkendiagramm",
    "label-pie": "Kreisdiagramm",
    "label-line": "Liniendiagramm"
  },
  es: {
    title: "Calculadora EMI Avanzada",
    "label-loan": "Monto del prÃ©stamo",
    "label-rate": "Tasa de interÃ©s (%)",
    "label-term": "Plazo del prÃ©stamo (aÃ±os)",
    "label-freq": "Frecuencia de prepago",
    "label-extra": "Pago adicional (â‚¬)",
    "label-start": "Comenzar desde el aÃ±o",
    "btn-calculate": "Calcular",
    "btn-monthly": "Tabla mensual",
    "btn-compare": "Comparar prÃ©stamos",
    "label-emi": "EMI:",
    "label-interest": "InterÃ©s total:",
    "label-payment": "Pago total:",
    "btn-reminder": "ğŸ“© Enviar recordatorio",
    "label-bar": "GrÃ¡fico de barras",
    "label-pie": "GrÃ¡fico circular",
    "label-line": "GrÃ¡fico de lÃ­neas"
  },
  ko: {
    title: "ê³ ê¸‰ EMI ê³„ì‚°ê¸°",
    "label-loan": "ëŒ€ì¶œ ê¸ˆì•¡",
    "label-rate": "ì´ììœ¨ (%)",
    "label-term": "ëŒ€ì¶œ ê¸°ê°„ (ë…„)",
    "label-freq": "ì¡°ê¸° ìƒí™˜ ë¹ˆë„",
    "label-extra": "ì¶”ê°€ ë‚©ì… (â‚©)",
    "label-start": "ì‹œì‘ ì—°ë„",
    "btn-calculate": "ê³„ì‚°",
    "btn-monthly": "ì›”ë³„ í…Œì´ë¸”",
    "btn-compare": "ëŒ€ì¶œ ë¹„êµ",
    "label-emi": "EMI:",
    "label-interest": "ì´ ì´ì:",
    "label-payment": "ì´ ë‚©ì…:",
    "btn-reminder": "ğŸ“© ì•Œë¦¼ ë³´ë‚´ê¸°",
    "label-bar": "ë§‰ëŒ€ ì°¨íŠ¸",
    "label-pie": "ì›í˜• ì°¨íŠ¸",
    "label-line": "ì„ í˜• ì°¨íŠ¸"
  },
  ja: {
    title: "é«˜åº¦ãªEMIè¨ˆç®—æ©Ÿ",
    "label-loan": "ãƒ­ãƒ¼ãƒ³é‡‘é¡",
    "label-rate": "é‡‘åˆ© (%)",
    "label-term": "ãƒ­ãƒ¼ãƒ³æœŸé–“ï¼ˆå¹´ï¼‰",
    "label-freq": "å‰æ‰•ã„ã®é »åº¦",
    "label-extra": "è¿½åŠ æ”¯æ‰•ã„ (Â¥)",
    "label-start": "é–‹å§‹å¹´",
    "btn-calculate": "è¨ˆç®—",
    "btn-monthly": "æœˆæ¬¡è¡¨",
    "btn-compare": "ãƒ­ãƒ¼ãƒ³ã‚’æ¯”è¼ƒ",
    "label-emi": "EMI:",
    "label-interest": "ç·åˆ©æ¯:",
    "label-payment": "ç·æ”¯æ‰•é¡:",
    "btn-reminder": "ğŸ“© ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ã‚’é€ä¿¡",
    "label-bar": "æ£’ã‚°ãƒ©ãƒ•",
    "label-pie": "å††ã‚°ãƒ©ãƒ•",
    "label-line": "æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•"
  }
};

function changeLanguage(langCode) {
  const langData = translations[langCode] || translations["en"];
  for (const key in langData) {
    const el = document.getElementById(key);
    if (el) el.innerText = langData[key];
  }
  document.documentElement.lang = langCode;
}

function detectLanguage() {
  const lang = navigator.language.slice(0, 2);
  const supported = Object.keys(translations);
  const matched = supported.includes(lang) ? lang : "en";
  document.getElementById("languageSelector").value = matched;
  changeLanguage(matched);
}

window.onload = detectLanguage;
</script>
<script>
let currentChart = null;

function calculateEMI() {
  const loan = parseFloat(document.getElementById("loanAmount").value);
  const rate = parseFloat(document.getElementById("interestRate").value) / 12 / 100;
  const term = parseFloat(document.getElementById("loanTerm").value) * 12;

  if (isNaN(loan) || isNaN(rate) || isNaN(term)) return;

  const emi = (loan * rate * Math.pow(1 + rate, term)) / (Math.pow(1 + rate, term) - 1);
  const totalPayment = emi * term;
  const totalInterest = totalPayment - loan;

  document.getElementById("emiValue").innerText = "â‚¹ " + emi.toFixed(2);
  document.getElementById("interestValue").innerText = "â‚¹ " + totalInterest.toFixed(2);
  document.getElementById("totalValue").innerText = "â‚¹ " + totalPayment.toFixed(2);

  updateChart(loan, totalInterest);
}

function updateChart(principal, interest) {
  const ctx = document.getElementById("chartCanvas").getContext("2d");
  if (currentChart) currentChart.destroy();

  const chartType = document.querySelector('input[name="chartType"]:checked').value;

  currentChart = new Chart(ctx, {
    type: chartType,
    data: {
      labels: ["Principal", "Interest"],
      datasets: [{
        label: "EMI Breakdown",
        data: [principal, interest],
        backgroundColor: ["#4caf50", "#f44336"],
        borderWidth: 1
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: { display: chartType !== 'bar' }
      }
    }
  });
}

document.getElementById("calculateBtn").addEventListener("click", calculateEMI);

// Handle Chart Toggle
document.querySelectorAll('input[name="chartType"]').forEach((radio) => {
  radio.addEventListener("change", () => {
    calculateEMI();
  });
});

// Language selector manual change
document.getElementById("languageSelector").addEventListener("change", function () {
  const selected = this.value;
  changeLanguage(selected);
});
</script>
</body>
</html>